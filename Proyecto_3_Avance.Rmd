---
title: "Proyecto 3. Avances 1. Eda y Clustering"
author: 
  - "Pablo Daniel Barillas Moreno, Carn√© No. 22193"
  - "Mathew Cordero Aquino, Carn√© No. 22982"
   - "Rafael Andres Chivalan 21534"
output:
  html_document: default
  pdf_document:
    latex_engine: xelatex
date: "2025-03-14"
header-includes:
   - \usepackage{fvextra}
   - \DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
repository: "https://github.com/DanielBarillas/Proyecto-3_MineriaDeDatos_Grupo-1.git"
---

## Enlace al Repositorio del proyecto 3 de miner√≠a de datos del Grupo #1
[Repositorio en GitHub](https://github.com/DanielBarillas/Proyecto-3_MineriaDeDatos_Grupo-1.git)

## 0. Descargar los conjuntos de datos.

Para este punto ya se descargo el .sav (formato SPSS) de a√±o por a√±o de la p√°gina [Instituto Nacional de Estad√≠stica - Guatemala](https://www.ine.gob.gt/vitales/), de nacimiento de bebes del pa√≠s (Guatemala), para su posterior an√°lisis.

Para este an√°lisis se utilizaron los registros de nacimientos publicados por el Instituto Nacional de Estad√≠stica (INE) desde el a√±o 2009 hasta 2022, en formato .sav (SPSS). En total, se procesaron 14 archivos, cada uno correspondiente a un a√±o.

Cada archivo contiene datos individuales de nacimientos ocurridos en el pa√≠s, con variables sobre el menor, la madre, el padre y condiciones del nacimiento.

## 1. Exploren los datos para encontrar preguntas interesantes y gu√≠as de investigaci√≥n. Para esto:

**‚ö†Ô∏è Este bloque fue utilizado √∫nicamente para generar el archivo limpio 'datos_nacimientos_de_2009_a_2022.RData'.**

**No es necesario volver a ejecutarlo a menos que se modifiquen los datos fuente (.sav).**

```{r, eval = FALSE}
library(haven)
library(dplyr)
library(purrr)
library(stringr)

# Ruta donde est√°n los .sav
ruta <- "Nacimientos"
archivos <- list.files(path = ruta, pattern = "\\.sav$", full.names = TRUE)

# Diccionario de equivalencias para unificar nombres
diccionario_nombres <- c(
  "Viapar"     = "ViaPar",
  "Pueblopp"   = "PuebloPP",
  "Pueblopm"   = "PuebloPM",
  "ciuomad"    = "Ciuomad",
  "ciuopad"    = "Ciuopad",
  "munnam"     = "Munpnam",
  "mupreg"     = "Mupreg",
  "muprep"     = "Muprep",
  "muprem"     = "Muprem",
  "mupnam"     = "Mupnam"
)

# Funci√≥n para renombrar columnas seg√∫n diccionario
renombrar_columnas <- function(df) {
  names(df) <- recode(names(df), !!!diccionario_nombres)
  return(df)
}

# Paso 1: Obtener todas las columnas posibles estandarizadas
nombres_globales <- archivos %>%
  map(~ {
    df <- read_sav(.x)
    names(df) <- recode(names(df), !!!diccionario_nombres)
    names(df)
  }) %>%
  flatten_chr() %>%
  unique()

# Paso 2: Leer, limpiar, completar y etiquetar a√±o
leer_estandarizado <- function(archivo) {
  tryCatch({
    df <- read_sav(archivo)
    df <- renombrar_columnas(df)
    df <- df %>% mutate(across(everything(), as.character))

    # Agregar columnas faltantes como NA
    faltantes <- setdiff(nombres_globales, names(df))
    df[faltantes] <- NA
    df <- df[, nombres_globales]

    # Agregar columna del a√±o
    df$archivo <- basename(archivo)
    df$anio <- stringr::str_extract(df$archivo, "\\d{4}")

    return(df)
  }, error = function(e) {
    message("‚ùå Error en ", archivo, ": ", e$message)
    return(NULL)
  })
}

# Unir todos los archivos estandarizados
datos_completos <- archivos %>%
  map(leer_estandarizado) %>%
  bind_rows()

# üîÑ Convertir variables clave a num√©ricas
datos_completos <- datos_completos %>%
  mutate(
    Edadp = as.numeric(Edadp),
    Libras = as.numeric(Libras),
    Onzas = as.numeric(Onzas)
  )

# Guardar el .RData final
save(datos_completos, file = "datos_nacimientos_de_2009_a_2022.RData")

cat("‚úÖ Archivo listo: 'datos_nacimientos_limpio.RData'\n")
cat("üì¶ Observaciones:", nrow(datos_completos), " | Variables:", ncol(datos_completos), "\n")
```
```{r}
# Cargar el archivo
load("datos_nacimientos_de_2009_a_2022.RData")

# Verifica si el objeto se carg√≥ correctamente
ls()  # Deber√≠a mostrar "datos_completos"

# Verifica estructura
str(datos_completos)

# Total de observaciones y variables
cat("üîé Observaciones:", nrow(datos_completos), "\n")
cat("üîé Variables:", ncol(datos_completos), "\n")

# Verifica cu√°ntos registros hay por archivo original
table(datos_completos$archivo)
```
```{r}
# Cargar datos unificados
load("datos_nacimientos_de_2009_a_2022.RData")

library(dplyr)
library(tidyr)

# 1. Porcentaje de NA por columna
porcentaje_na <- datos_completos %>%
  summarise(across(everything(), ~mean(is.na(.))*100)) %>%
  pivot_longer(everything(), names_to = "variable", values_to = "porcentaje_na") %>%
  arrange(desc(porcentaje_na))

# 2. En qu√© a√±os aparece cada variable (con datos no vac√≠os)
presencia_por_a√±o <- datos_completos %>%
  group_by(archivo) %>%
  summarise(across(everything(), ~sum(!is.na(.)) > 0)) %>%
  pivot_longer(-archivo, names_to = "variable", values_to = "presente") %>%
  filter(presente == TRUE) %>%
  group_by(variable) %>%
  summarise(anios_con_dato = n()) %>%
  arrange(desc(anios_con_dato))

# 3. Unir resumen
resumen_variables <- porcentaje_na %>%
  left_join(presencia_por_a√±o, by = "variable")

# 4. Ver tabla final
print(resumen_variables)
```

### a.	Describan el conjunto de datos: cuantas variables y observaciones hay y el tipo de cada una de las variables.

```{r}
# Cargar archivo
load("datos_nacimientos_de_2009_a_2022.RData")  # o datos_nacimientos_limpio.RData

library(dplyr)

# Obtener total de observaciones y variables
cat("üìä Total de observaciones:", nrow(datos_completos), "\n")
cat("üìä Total de variables:", ncol(datos_completos), "\n\n")

# Crear tabla con nombre, tipo y ejemplo por variable
resumen_variables <- tibble(
  variable = names(datos_completos),
  tipo = sapply(datos_completos, class),
  ejemplo = sapply(datos_completos, function(x) {
    first(na.omit(x))
  })
)

# Mostrar tabla resumen
print(resumen_variables)
```

```{r}
# Importar librer√≠as necesarias
library(haven)
library(dplyr)

# Ruta de la carpeta con los archivos .sav
ruta <- "Nacimientos"
archivos <- list.files(path = ruta, pattern = "\\.sav$", full.names = TRUE)

# Leer y resumir cada archivo
resumen <- lapply(archivos, function(archivo) {
  tryCatch({
    datos <- read_sav(archivo)
    list(
      archivo = basename(archivo),
      observaciones = nrow(datos),
      variables = ncol(datos),
      columnas = names(datos)
    )
  }, error = function(e) {
    list(
      archivo = basename(archivo),
      error = as.character(e)
    )
  })
})

# Mostrar resumen
print(resumen)
```

**Descripci√≥n General del Conjunto de Datos**

Para este an√°lisis se utilizaron los registros de nacimientos publicados por el Instituto Nacional de Estad√≠stica (INE) desde el a√±o **2009 hasta 2022**, en formato `.sav` (SPSS). En total, se procesaron **14 archivos**, cada uno correspondiente a un a√±o.

Cada archivo contiene datos individuales de nacimientos ocurridos en el pa√≠s, con variables sobre el menor, la madre, el padre y condiciones del nacimiento.

**Resumen por a√±o:**

| A√±o  | Observaciones  | Variables |
|------|----------------|-----------|
| 2009 | 351,628        | 37        |
| 2010 | 361,906        | 39        |
| 2011 | 373,692        | 39        |
| 2012 | 388,613        | 41        |
| 2013 | 387,342        | 41        |
| 2014 | 386,195        | 39        |
| 2015 | 391,425        | 42        |
| 2016 | 390,382        | 42        |
| 2017 | 381,664        | 42        |
| 2018 | 383,263        | 42        |
| 2019 | 366,855        | 42        |
| 2020 | 341,212        | 42        |
| 2021 | 345,149        | 42        |
| 2022 | 345,869        | 42        |

**Totales:**

- **Total de observaciones:** 5,195,195
- **Variables m√≠nimas por a√±o:** 37
- **Variables m√°ximas por a√±o:** 42

> Algunas variables tienen nombres distintos en ciertos a√±os, pero representan la misma informaci√≥n. Se estandarizar√°n para el an√°lisis posterior. Cuando una variable no est√° presente en todos los a√±os, se conservar√° con valores `NA` seg√∫n corresponda.

**Descripci√≥n del conjunto de datos**

El conjunto de datos corresponde a los registros de nacimientos recopilados por el Instituto Nacional de Estad√≠stica (INE) de Guatemala, desde el a√±o **2009 hasta 2022**, en formato `.sav` (SPSS). Cada archivo representa un a√±o y contiene informaci√≥n detallada sobre cada nacimiento ocurrido en el pa√≠s.

**Contenido general:**

- **A√±os analizados:** 14 a√±os (de 2009 a 2022)
- **Total de observaciones:** 5,195,195 nacimientos
- **Cantidad de variables por a√±o:** entre **37 y 42**

**Variables y tipos**

A continuaci√≥n se muestra una clasificaci√≥n de los tipos de variables en los archivos:

**Tabla de tipos de variables**

| Tipo de Variable                | Ejemplos de variables                                                                          | Descripci√≥n                                                                       |
|---------------------------------|------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| **Categ√≥ricas nominales**       | Sexo, Tipar, Asisrec, Sitioocu, ViaPar, PuebloPP, PuebloPM, **Escivp, Escivm**                 | Categor√≠as sin orden inherente. Incluye estado civil, etnias, tipo de parto, etc. |
| **Categ√≥ricas ordinales**       | Escolap, Escolam                                                                               | Tienen un orden natural (niveles educativos, por ejemplo).                        |
| **Num√©ricas discretas**         | Edadp, Edadm, Tohite, Tohinm, Tohivi                                                           | Valores num√©ricos contables, no continuos.                                        |
| **Num√©ricas continuas**         | Peso_total_lb (Libras + Onzas/16)                                                              | Valores medibles que pueden tomar decimales, como el peso total al nacer.         |
| **Ubicaci√≥n geogr√°fica**        | Depreg, Mupreg, Depocu, Mupocu, Deprep, Muprep, Deprem, Muprem, Depnap, Mupnap, Depnam, Mupnam | C√≥digos de residencia, nacimiento u ocurrencia del evento.                        |
| **Identificadores temporales**  | Mesreg, A√±oreg, Mesocu, A√±oocu, Diaocu                                                         | Fecha de ocurrencia o registro del nacimiento.                                    |
| **Asistencia m√©dica y parto**   | Tipar, Asisrec, TipoIns, Sitioocu                                                              | Describe tipo de parto, asistencia m√©dica, instituci√≥n, etc.                      |
| **Tama√±o familiar**             | Tohite, Tohinm, Tohivi                                                                         | Informaci√≥n sobre hijos tenidos, vivos o muertos.                                 |
| **Informaci√≥n del padre**       | Ocupap, Escolap, Edadp, Escivp, Naciop, Paisnacp, Paisrep                                      | Informaci√≥n sociodemogr√°fica del padre.                                           |
| **Informaci√≥n de la madre**     | Ocupam, Escolam, Edadm, Escivm, Naciom, Paisnacm, Paisrem                                      | Informaci√≥n sociodemogr√°fica de la madre.                                         |
| **Otros c√≥digos del nacimiento**| grupetma, Gretnp, Gretnm, Ciuopad, Ciuomad, Munpnam                                            | C√≥digos espec√≠ficos o presentes solo en algunos a√±os.                             |
| **Identificaci√≥n del archivo**  | archivo, anio                                                                                  | Metadatos de control: nombre de archivo y a√±o.                                    |

**Notas importantes:**

- Algunas variables tienen **nombres distintos entre a√±os**, pero representan la misma informaci√≥n (ej. `"ViaPar"` vs `"Viapar"`).
- En el an√°lisis se conservar√°n **todas las columnas**, y se colocar√° `NA` cuando alguna variable no est√© presente en ciertos a√±os.
- Se priorizar√° la estandarizaci√≥n de nombres antes de an√°lisis agregados o gr√°ficos.

**A continuaci√≥n se tienen la descripci√≥n y clasificaci√≥n de todas las variables:**

**Descripci√≥n y tipo de variable**

| **Variable**   | **Descripci√≥n**                                                                  | **Tipo de variable**            |
|----------------|----------------------------------------------------------------------------------|---------------------------------|
| Depreg         | C√≥digo del departamento donde se registr√≥ el nacimiento                          | Categ√≥rica nominal              |
| Mupreg         | C√≥digo del municipio donde se registr√≥ el nacimiento                             | Categ√≥rica nominal              |
| Mesreg         | Mes de registro del nacimiento                                                   | Identificador temporal          |
| A√±oreg         | A√±o de registro del nacimiento                                                   | Identificador temporal          |
| Depocu         | C√≥digo del departamento donde ocurri√≥ el nacimiento                              | Categ√≥rica nominal              |
| Mupocu         | C√≥digo del municipio donde ocurri√≥ el nacimiento                                 | Categ√≥rica nominal              |
| Libras         | Peso del beb√© al nacer en libras                                                 | Num√©rica discreta (ver nota)    |
| Onzas          | Peso del beb√© al nacer en onzas                                                  | Num√©rica discreta (ver nota)    |
| Diaocu         | D√≠a en que ocurri√≥ el nacimiento                                                 | Identificador temporal          |
| Mesocu         | Mes en que ocurri√≥ el nacimiento                                                 | Identificador temporal          |
| A√±oocu         | A√±o en que ocurri√≥ el nacimiento                                                 | Identificador temporal          |
| Sexo           | Sexo del beb√© (1 = Hombre, 2 = Mujer)                                            | Categ√≥rica nominal              |
| Tipar          | Tipo de parto (1 = Vaginal, 2 = Ces√°rea, etc.)                                   | Categ√≥rica nominal              |
| Edadp          | Edad del padre en a√±os                                                           | Num√©rica discreta               |
| Deprep         | Departamento de residencia del padre                                             | Categ√≥rica nominal              |
| Muprep         | Municipio de residencia del padre                                                | Categ√≥rica nominal              |
| Escivp         | Estado civil del padre                                                           | Categ√≥rica nominal              |
| Depnap         | Departamento de nacimiento del padre                                             | Categ√≥rica nominal              |
| Mupnap         | Municipio de nacimiento del padre                                                | Categ√≥rica nominal              |
| Naciop         | Nacionalidad del padre (c√≥digo)                                                  | Categ√≥rica nominal              |
| Ocupap         | Ocupaci√≥n del padre (seg√∫n clasificaci√≥n nacional)                               | Categ√≥rica nominal              |
| Edadm          | Edad de la madre en a√±os                                                         | Num√©rica discreta               |
| Deprem         | Departamento de residencia de la madre                                           | Categ√≥rica nominal              |
| Muprem         | Municipio de residencia de la madre                                              | Categ√≥rica nominal              |
| Escivm         | Estado civil de la madre                                                         | Categ√≥rica nominal              |
| Depnam         | Departamento de nacimiento de la madre                                           | Categ√≥rica nominal              |
| Mupnam         | Municipio de nacimiento de la madre                                              | Categ√≥rica nominal              |
| Naciom         | Nacionalidad de la madre (c√≥digo)                                                | Categ√≥rica nominal              |
| Ocupam         | Ocupaci√≥n de la madre                                                            | Categ√≥rica nominal              |
| Escolap        | Nivel educativo alcanzado por el padre                                           | Categ√≥rica ordinal              |
| Escolam        | Nivel educativo alcanzado por la madre                                           | Categ√≥rica ordinal              |
| Paisrep        | Pa√≠s de residencia del padre                                                     | Categ√≥rica nominal              |
| Paisrem        | Pa√≠s de residencia de la madre                                                   | Categ√≥rica nominal              |
| Paisnacp       | Pa√≠s de nacimiento del padre                                                     | Categ√≥rica nominal              |
| Paisnacm       | Pa√≠s de nacimiento de la madre                                                   | Categ√≥rica nominal              |
| Asisrec        | Si hubo asistencia m√©dica en el nacimiento                                       | Categ√≥rica nominal              |
| Sitioocu       | Lugar donde ocurri√≥ el nacimiento (hospital, casa, etc.)                         | Categ√≥rica nominal              |
| TipoIns        | Tipo de instituci√≥n que atendi√≥ el parto (si aplica)                             | Categ√≥rica nominal              |
| ViaPar / Viapar| V√≠a del parto (puede ser duplicado en nombre)                                    | Categ√≥rica nominal              |
| PuebloPP       | Pertenencia √©tnica del padre (pueblo ind√≠gena, mestizo, etc.)                    | Categ√≥rica nominal              |
| PuebloPM       | Pertenencia √©tnica de la madre                                                   | Categ√≥rica nominal              |
| Tohite         | Total de hijos tenidos                                                           | Num√©rica discreta               |
| Tohinm         | Total de hijos nacidos muertos                                                   | Num√©rica discreta               |
| Tohivi         | Total de hijos vivos                                                             | Num√©rica discreta               |
| grupetma       | Clasificaci√≥n del grupo √©tnico de la madre (c√≥digo)                              | Categ√≥rica nominal              |
| Gretnp         | Grupo √©tnico del padre                                                           | Categ√≥rica nominal              |
| Gretnm         | Grupo √©tnico de la madre                                                         | Categ√≥rica nominal              |
| Ciuopad        | Ciudad de nacimiento del padre (algunos a√±os)                                    | Categ√≥rica nominal              |
| Ciuomad        | Ciudad de nacimiento de la madre (algunos a√±os)                                  | Categ√≥rica nominal              |
| Munpnam        | Municipio de nacimiento de la madre (alternativa a munnam)                       | Categ√≥rica nominal              |
| archivo        | Nombre del archivo del cual se extrajo el dato                                   | Identificador de archivo        |
| anio           | A√±o correspondiente al archivo (2009‚Äì2022)                                       | Identificador de archivo        |

üîé Nota importante: Se recomienda crear una nueva variable peso_total_lb = Libras + Onzas / 16 y analizarla como num√©rica continua en lugar de separar libras y onzas en el an√°lisis.

### b.	Realicen un resumen de las variables num√©ricas e investiguen si siguen una distribuci√≥n normal y, para las variables categ√≥ricas obtengan una tabla de frecuencia, documenten lo que vayan encontrando.

```{r}
# üì¶ Librer√≠as necesarias
library(dplyr)
library(ggplot2)

# üîß Limpiar y filtrar datos num√©ricos
datos_limpios <- datos_completos %>%
  mutate(
    Edadp  = as.numeric(Edadp),
    Edadm  = as.numeric(Edadm),
    Libras = as.numeric(Libras),
    Onzas  = as.numeric(Onzas),
    Tohite = as.numeric(Tohite),
    Tohinm = as.numeric(Tohinm),
    Tohivi = as.numeric(Tohivi),
    peso_total_lb = Libras + Onzas / 16
  ) %>%
  filter(
    Edadp >= 10 & Edadp <= 90,
    Edadm >= 10 & Edadm <= 100,
    Libras >= 1 & Libras <= 10,
    Onzas >= 0 & Onzas <= 15,
    Tohite >= 0 & Tohite <= 20,
    Tohinm >= 0 & Tohinm <= 20,
    Tohivi >= 0 & Tohivi <= 20
  )

# üî¢ Variables num√©ricas
vars_numericas <- c("Edadp", "Edadm", "Tohite", "Tohinm", "Tohivi", "peso_total_lb")

# üìä Resumen estad√≠stico de num√©ricas
resumen_numerico <- datos_limpios %>%
  select(all_of(vars_numericas)) %>%
  summarise(across(everything(), list(
    media = ~mean(., na.rm = TRUE),
    mediana = ~median(., na.rm = TRUE),
    sd = ~sd(., na.rm = TRUE),
    min = ~min(., na.rm = TRUE),
    max = ~max(., na.rm = TRUE)
  ), .names = "{.col}_{.fn}"))

print(resumen_numerico)

# üìà Histogramas
for (var in vars_numericas) {
  if (var %in% names(datos_limpios)) {
    print(
      ggplot(datos_limpios, aes(x = .data[[var]])) +
        geom_histogram(bins = 30, fill = "skyblue", color = "black") +
        labs(title = paste("Distribuci√≥n de", var), x = var, y = "Frecuencia")
    )
  }
}

# üß™ Pruebas de normalidad (muestra de 5000)
set.seed(123)
muestra <- datos_limpios %>% sample_n(5000)

cat("\nPrueba de normalidad - Edad de la madre:\n")
print(shapiro.test(muestra$Edadm))

cat("\nPrueba de normalidad - Peso total del beb√©:\n")
print(shapiro.test(muestra$peso_total_lb))

# üßæ Variables categ√≥ricas individuales
vars_categoricas <- c("Sexo", "Tipar", "Asisrec", "Sitioocu", "Escivp", "Escivm", "Escolap", "Escolam")

for (var in vars_categoricas) {
  if (var %in% names(datos_limpios)) {
    cat("\nüìã Frecuencia de:", var, "\n")
    print(table(datos_limpios[[var]], useNA = "ifany"))

    print(
      ggplot(datos_limpios, aes(x = factor(.data[[var]]))) +
        geom_bar(fill = "lightcoral") +
        labs(title = paste("Frecuencia de", var), x = var, y = "Frecuencia")
    )
  }
}

# üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Variables espec√≠ficas de los padres
cat("\nResumen variables de padres y madres:\n")
print(summary(select(datos_limpios,
                     Edadp, Edadm,
                     Escolap, Escolam,
                     Escivp, Escivm,
                     Ocupap, Ocupam)))
```

### üìä **An√°lisis e interpretaci√≥n del resumen estad√≠stico de num√©ricas**

**Edad del padre (`Edadp`)**

- **Media:** 29.48 a√±os  
- **Mediana:** 28 a√±os  
- **Desviaci√≥n est√°ndar:** 8.03  
- **M√≠nimo:** 12 a√±os  
- **M√°ximo:** 90 a√±os  

**Interpretaci√≥n:** La edad promedio de los padres al momento del nacimiento es de aproximadamente **29 a√±os**, siendo **28 a√±os** el valor m√°s frecuente. Hay casos extremos de padres muy j√≥venes (12 a√±os) y muy mayores (90 a√±os), aunque estos √∫ltimos seguramente sean excepcionales.

---

**Edad de la madre (`Edadm`)**

- **Media:** 25.85 a√±os  
- **Mediana:** 25 a√±os  
- **Desviaci√≥n est√°ndar:** 6.56  
- **M√≠nimo:** 10 a√±os  
- **M√°ximo:** 59 a√±os  

**Interpretaci√≥n:** Las madres tienden a ser m√°s j√≥venes que los padres, con una edad promedio de **25 a√±os**. Se observan casos de maternidad muy joven (10 a√±os), lo que puede indicar problem√°ticas sociales importantes (como embarazo adolescente o infantil).


**Total de hijos tenidos (`Tohite`)**

- **Media:** 2.72 hijos  
- **Mediana:** 2 hijos  
- **Desviaci√≥n est√°ndar:** 2.05  
- **M√°ximo:** 19 hijos  

**Interpretaci√≥n:** La mayor√≠a de las madres ha tenido entre **2 y 3 hijos**, pero existen casos extremos de hasta **19 hijos**, lo que es inusual y podr√≠a estar relacionado con generaciones mayores o ciertas regiones espec√≠ficas.


**Total de hijos nacidos muertos (`Tohinm`)**

- **Media:** 0.18 hijos  
- **Mediana:** 0 hijos  
- **Desviaci√≥n est√°ndar:** 0.65  
- **M√°ximo:** 20 hijos  

**Interpretaci√≥n:** La gran mayor√≠a **no ha tenido hijos nacidos muertos** (mediana = 0). Sin embargo, hay casos extremos de hasta **20 hijos fallecidos**, lo cual podr√≠a ser indicativo de errores de digitaci√≥n o condiciones m√©dicas/ambientales cr√≠ticas.


**Total de hijos vivos (`Tohivi`)**

- **Media:** 2.55 hijos  
- **Mediana:** 2 hijos  
- **Desviaci√≥n est√°ndar:** 1.93  
- **M√°ximo:** 17 hijos  

**Interpretaci√≥n:** Coincide con el total de hijos tenidos, lo que confirma baja mortalidad en general. Casos de hasta **17 hijos vivos** tambi√©n reflejan valores extremos.


**Peso total al nacer (`peso_total_lb`)**

- **Media:** 6.75 lb  
- **Mediana:** 6.875 lb  
- **Desviaci√≥n est√°ndar:** 1.08  
- **M√≠nimo:** 1 lb  
- **M√°ximo:** 10.94 lb  

**Interpretaci√≥n:** El peso promedio al nacer se encuentra dentro del rango normal (**entre 5.5 y 8.8 lb**), con la mayor√≠a entre **6.5 y 7 lb**. Existen valores extremos, tanto de beb√©s con **peso muy bajo** (< 2 lb) como con **peso elevado** (> 10 lb), posiblemente indicando partos prematuros o macrosom√≠a fetal.


**Conclusiones generales**

- **Diferencia de edad entre padres y madres:** En promedio, los padres tienen entre **3 y 4 a√±os m√°s** que las madres, lo cual es consistente con patrones culturales comunes.
- **Presencia de embarazos adolescentes o infantiles:** Se encontraron edades maternas tan bajas como **10 a√±os**, lo que podr√≠a evidenciar vulnerabilidad social.
- **La mayor√≠a de las madres tiene entre 2 y 3 hijos**, y **pocos presentan hijos muertos**. Sin embargo, se detectaron valores extremos que deben analizarse con mayor cuidado.
- **El peso promedio al nacer es adecuado**, aunque hay casos preocupantes de **bajo peso**, los cuales podr√≠an correlacionarse con edad de la madre, atenci√≥n m√©dica o n√∫mero de hijos previos.

Gracias por compartir las gr√°ficas. A continuaci√≥n te presento el **an√°lisis e interpretaci√≥n visual** de cada variable y luego unas **conclusiones generales** que puedes copiar directamente en tu informe.


**An√°lisis de las distribuciones:**

1. **Edad del padre (`Edadp`)**

- La distribuci√≥n tiene una forma **asim√©trica hacia la derecha** (cola larga).
- La mayor√≠a de los padres tienen entre **25 y 35 a√±os**.
- Hay pocos casos de padres mayores de 50 a√±os, y algunos valores extremos.

**Interpretaci√≥n:** Aunque hay padres de todas las edades, se observa una concentraci√≥n entre los **30 a√±os**. Esto indica que es com√∫n que los padres est√©n en una edad adulta joven al momento del nacimiento.


2. **Edad de la madre (`Edadm`)**

- Distribuci√≥n ligeramente **asim√©trica a la derecha**.
- La mayor√≠a de las madres tienen entre **20 y 30 a√±os**.
- Tambi√©n se observan casos de madres adolescentes y algunas pocas de m√°s de 40 a√±os.

**Interpretaci√≥n:** Las madres tienden a ser m√°s j√≥venes que los padres. Hay evidencia de **embarazos en adolescentes** y adultos j√≥venes, algo importante desde el punto de vista social y de salud p√∫blica.


3. **Total de hijos tenidos (`Tohite`)**

- Distribuci√≥n **altamente sesgada a la derecha**.
- La mayor√≠a tiene entre **1 y 3 hijos**.
- Hay valores extremos que superan los **10 hijos**.

**Interpretaci√≥n:** Lo com√∫n es que las madres tengan pocos hijos, pero tambi√©n existen casos de familias numerosas, posiblemente vinculadas a zonas rurales o generaciones mayores.



4. **Total de hijos nacidos muertos (`Tohinm`)**

- Distribuci√≥n **extremadamente sesgada a la derecha**.
- La gran mayor√≠a tiene **0 hijos nacidos muertos**.
- Casos con m√°s de 3 son muy raros.

**Interpretaci√≥n:** La mortalidad neonatal reportada es baja en general, lo cual es positivo. Sin embargo, los casos con m√∫ltiples p√©rdidas deben analizarse por posibles factores de riesgo.



5. **Total de hijos vivos (`Tohivi`)**

- Tambi√©n muestra una **asimetr√≠a a la derecha**.
- Lo m√°s frecuente son **2 o 3 hijos vivos**.
- Algunos casos reportan m√°s de **10 hijos vivos**.

**Interpretaci√≥n:** Los datos concuerdan con el total de hijos tenidos. La mayor√≠a tiene entre **1 y 4 hijos vivos**, con pocos casos extremos.


6. **Peso total al nacer (`peso_total_lb`)**

- Distribuci√≥n con **forma de campana** y un leve doble pico.
- Centro entre **6.5 y 7 lb**, lo cual es saludable.
- Hay valores por debajo de 4 lb y por encima de 9 lb.

**Interpretaci√≥n:** El peso promedio es adecuado. Sin embargo, la presencia de pesos bajos puede indicar partos prematuros o riesgo de salud neonatal.


**Conclusiones generales**

- Las **edades de madres y padres** se concentran entre los 20 y 35 a√±os, aunque hay casos de embarazos adolescentes y paternidades tard√≠as.
- El n√∫mero de hijos muestra que la mayor√≠a de familias son peque√±as, aunque existen casos extremos de hasta 10 hijos o m√°s.
- **La mayor√≠a de los beb√©s nacen con peso saludable**, aunque existen algunos con bajo peso que deben vigilarse.
- La mortalidad neonatal es baja seg√∫n los datos, pero los valores at√≠picos deben validarse por posibles errores de digitaci√≥n o condiciones graves.

Gracias por compartir los resultados. Aqu√≠ tienes un an√°lisis interpretativo completo, separado en tres partes: **pruebas de normalidad**, **frecuencias de variables categ√≥ricas**, y **resumen de variables de padres y madres**, seguido por **conclusiones generales** que puedes copiar directamente a tu informe.

---

### üìà Pruebas de normalidad (Shapiro-Wilk)

#### üîπ Edad de la madre (`Edadm`)
- **W = 0.96115**, **p-value < 2.2e-16**
- Esto indica que **la edad de la madre no sigue una distribuci√≥n normal** (p < 0.05).
- Visualmente se observ√≥ una ligera asimetr√≠a a la derecha, lo cual coincide con este resultado.

#### üîπ Peso total del beb√© (`peso_total_lb`)
- **W = 0.97859**, **p-value < 2.2e-16**
- A pesar de que la distribuci√≥n ten√≠a forma de campana, **el test tambi√©n rechaza la normalidad** estad√≠sticamente.
- Esto se debe a peque√±as asimetr√≠as o a la presencia de muchos datos, que hacen que el test sea muy sensible.

üîç *Interpretaci√≥n:* Ambas variables no siguen una distribuci√≥n normal. Esto sugiere que cualquier an√°lisis posterior (como pruebas estad√≠sticas) deber√≠a usar t√©cnicas **no param√©tricas** o transformaciones si se requiere normalidad.

**An√°lisis de variables categ√≥ricas (frecuencias)**

üî∏ `Sexo` del beb√©

- Hombres (`1`): 2,254,955  
- Mujeres (`2`): 2,184,428  

‚úÖ **Distribuci√≥n bastante equilibrada**, con ligera mayor√≠a de nacimientos masculinos (~51%).

üî∏ `Tipar` (Tipo de parto)

- Vaginal (`1`): 4,385,803  
- Ces√°rea (`2`): 52,701  
- Otros: (`3`, `4`) muy pocos casos  

‚úÖ **Parto vaginal es el m√°s com√∫n** (~98%). Ces√°reas son el 1.17%, lo cual podr√≠a estar subreportado o reflejar atenci√≥n limitada.

üî∏ `Asisrec` (Asistencia m√©dica)

- `1`: 2,818,265 ‚Äî probablemente asistencia m√©dica completa  
- `4`: 812,238 ‚Äî probablemente parteras o asistencia parcial  
- Otros c√≥digos presentes  

**Interpretaci√≥n:** Aunque la mayor√≠a recibi√≥ atenci√≥n m√©dica, hay una porci√≥n considerable con asistencia alternativa o incompleta.

üî∏ `Sitioocu` (Lugar del parto)

- `1`: 1,689,182 ‚Äî probablemente hospital  
- `6`: 1,240,916 ‚Äî posiblemente casa u otro sitio  

**Interpretaci√≥n:** Hay un n√∫mero importante de partos fuera de hospitales. Esto debe revisarse por zona geogr√°fica o tipo de instituci√≥n.

üî∏ `Escivp` y `Escivm` (Estado civil del padre y madre)

- La mayor√≠a son `1` y `2`, que probablemente representan ‚Äúcasado‚Äù y ‚Äúsoltero‚Äù  
- Tambi√©n se reportan `9` (no especificado) y otros pocos valores

**Interpretaci√≥n:** El estado civil est√° disponible y bien distribuido, aunque hay valores perdidos o no reportados que podr√≠an influir en los cruces.

üî∏ `Escolap` y `Escolam` (Escolaridad padre y madre)

- Nivel `2` y `1` (b√°sico y primaria) son los m√°s comunes  
- Muchas observaciones con valor `NA` y c√≥digos `9` (no especificado)

**Interpretaci√≥n:** Hay un patr√≥n similar en escolaridad para ambos, pero **faltan muchos datos**, especialmente en el caso de los padres.


üë®‚Äçüë©‚Äçüëß‚Äçüë¶ An√°lisis de variables de padres y madres

üîπ Edad
- **Edad padre** promedio: 29.5 a√±os  
- **Edad madre** promedio: 25.8 a√±os  

‚úÖ Confirmado que los padres tienden a ser en promedio **3‚Äì4 a√±os mayores** que las madres.

üîπ Escolaridad
- Distribuida entre niveles b√°sicos y primaria.
- Faltantes importantes (`NA`) sobre todo en los padres.

üîπ Estado civil
- Coherencia entre padres y madres.
- Valores como `9` (NS/NR) presentes pero minoritarios.

**conclusiones generales**

- Las variables **edad y peso** no siguen una distribuci√≥n normal, por lo que cualquier inferencia debe considerar m√©todos no param√©tricos o categorizaciones.
- La mayor√≠a de nacimientos ocurren con **asistencia m√©dica**, aunque todav√≠a hay muchos partos fuera de hospitales, lo cual puede estar relacionado con **zona rural o acceso limitado**.
- El **parto vaginal predomina abrumadoramente**, aunque es posible que las ces√°reas est√©n subregistradas.
- El **estado civil y escolaridad** muestran patrones similares entre padre y madre, aunque **faltan datos del padre** en una proporci√≥n relevante.
- La informaci√≥n recopilada permite cruzar varias variables (como escolaridad vs estado civil, o tipo de parto vs edad de la madre) en el siguiente paso del an√°lisis.

**An√°lisis de variables categ√≥ricas**

üî∏ Sexo del beb√© (`Sexo`)

- Dos barras pr√°cticamente iguales: `1` (Hombre) y `2` (Mujer).
- Ligera mayor√≠a de nacimientos masculinos.

**Conclusi√≥n:** La distribuci√≥n por sexo es **equilibrada**, lo que indica ausencia de sesgo relevante entre nacimientos de ni√±os y ni√±as.

üî∏ Tipo de parto (`Tipar`)

- El valor `1` (probablemente parto vaginal) **domina abrumadoramente**.
- Ces√°rea (`2`) y otros (`3`, `4`) son marginales.

**Conclusi√≥n:** El **parto vaginal es la pr√°ctica m√°s com√∫n** en Guatemala. Es posible que haya **subregistro de ces√°reas** o una baja intervenci√≥n m√©dica en ciertas regiones.

üî∏ Asistencia m√©dica (`Asisrec`)

- Valor `1` lidera con mucha diferencia (probablemente atenci√≥n m√©dica profesional).
- Tambi√©n hay una porci√≥n significativa en `4` (probablemente atenci√≥n por partera).
- Otros valores est√°n presentes pero son mucho menores.

**Conclusi√≥n:** Aunque la mayor√≠a recibe **asistencia profesional**, existe una cantidad importante de nacimientos con **asistencia alternativa** (como parteras), lo que sugiere **desigualdad en el acceso a servicios de salud**.

üî∏ Sitio del parto (`Sitioocu`)

- Mayor√≠a de partos ocurren en lugares identificados como `1` y `6`.
- Tambi√©n hay nacimientos en otros sitios, aunque menos frecuentes.

**Conclusi√≥n:** Muchos partos ocurren **en hospitales u otros centros m√©dicos**, pero tambi√©n se reportan con frecuencia **nacimientos fuera de centros de salud**, lo cual podr√≠a indicar **zonas rurales o baja cobertura hospitalaria**.

üî∏ Estado civil del padre (`Escivp`)

- Predominan las categor√≠as `1` y `2`, que posiblemente representan ‚Äúcasado‚Äù y ‚Äúsoltero‚Äù.
- Otros valores como `3` y `9` son marginales.

üî∏ Estado civil de la madre (`Escivm`)
- Misma tendencia que el padre, con distribuci√≥n parecida.

**Conclusi√≥n:** La mayor√≠a de los padres y madres son **casados o solteros**. La coherencia sugiere buena calidad del dato, aunque los casos ‚Äúno especificado‚Äù (c√≥digo `9`) podr√≠an representar datos omitidos.

üî∏ Escolaridad del padre (`Escolap`)

- Pico en nivel `2` (posiblemente primaria completa o b√°sica).
- Distribuci√≥n cae hacia niveles m√°s altos.
- Alta cantidad de `NA` y valores ‚Äúsin especificar‚Äù (`9`).

**Conclusi√≥n:** La mayor√≠a de los padres **tienen escolaridad b√°sica**, con **pocos alcanzando educaci√≥n superior**. Los datos faltantes limitan el an√°lisis.

üî∏ Escolaridad de la madre (`Escolam`)

- Distribuci√≥n similar al padre, pero con **menos valores perdidos**.
- Predominan los niveles bajos (`1`, `2`).

**Conclusi√≥n:** Las madres presentan **niveles educativos similares** a los padres, pero **con m√°s datos disponibles**, lo que facilita mejores an√°lisis comparativos.


**Conclusiones generales**

- Las variables categ√≥ricas clave como `Sexo`, `Tipar`, `Asisrec` y `Sitioocu` presentan distribuciones **claras y consistentes** con la situaci√≥n sanitaria del pa√≠s.
- Se evidencia que:
  - La mayor√≠a de nacimientos ocurre **en hospitales** y con **asistencia m√©dica**.
  - **El parto vaginal es el predominante**.
  - Existe un porcentaje importante de **partos fuera de instituciones m√©dicas** o con **asistencia por parteras**, lo cual podr√≠a estar asociado a limitaciones geogr√°ficas o culturales.
- El **estado civil y escolaridad de padres y madres** son coherentes entre s√≠, pero hay **falta de datos en los hombres**, especialmente en escolaridad.
- El patr√≥n general refleja una **poblaci√≥n joven**, con educaci√≥n b√°sica como nivel m√°s com√∫n y acceso desigual a servicios de salud.

```{r}
# üîß Filtrar valores at√≠picos y mantener datos consistentes
datos_limpios <- datos_completos %>%
  mutate(
    Edadp  = as.numeric(Edadp),
    Edadm  = as.numeric(Edadm),
    Libras = as.numeric(Libras),
    Onzas  = as.numeric(Onzas),
    Tohite = as.numeric(Tohite),
    Tohinm = as.numeric(Tohinm),
    Tohivi = as.numeric(Tohivi)
  ) %>%
  filter(
    Edadp >= 10 & Edadp <= 90,
    Edadm >= 10 & Edadm <= 100,
    Libras >= 1 & Libras <= 10,
    Onzas >= 0 & Onzas <= 15,
    Tohite >= 0 & Tohite <= 20,
    Tohinm >= 0 & Tohinm <= 20,
    Tohivi >= 0 & Tohivi <= 20
  )

# Importar las librer√≠as necesarias
library(dplyr)
library(ggplot2)

# Variables a analizar
vars_numericas <- c("Edadp", "Edadm", "Libras", "Onzas", "Tohite", "Tohinm", "Tohivi")
vars_categoricas <- c("Sexo", "Tipar", "Asisrec", "Sitioocu", "Escivp", "Escivm")

# üìä Resumen estad√≠stico
resumen_numerico <- datos_limpios %>%
  select(all_of(vars_numericas)) %>%
  summarise(across(everything(), list(
    media = ~mean(., na.rm = TRUE),
    mediana = ~median(., na.rm = TRUE),
    sd = ~sd(., na.rm = TRUE),
    min = ~min(., na.rm = TRUE),
    max = ~max(., na.rm = TRUE)
  ), .names = "{.col}_{.fn}"))

print(resumen_numerico)

# üìà Histogramas (versi√≥n moderna de ggplot2 sin aes_string)
for (var in vars_numericas) {
  if (var %in% names(datos_limpios)) {
    print(
      ggplot(datos_limpios, aes(x = .data[[var]])) +
        geom_histogram(bins = 30, fill = "skyblue", color = "black") +
        labs(title = paste("Distribuci√≥n de", var), x = var, y = "Frecuencia")
    )
  }
}

# üìã Tablas de frecuencia para variables categ√≥ricas
for (var in vars_categoricas) {
  if (var %in% names(datos_limpios)) {
    cat("\nüìä Frecuencia de:", var, "\n")
    print(table(datos_limpios[[var]], useNA = "ifany"))
  }
}

```

**Analisis de los Hallazgos**

Al observar las distribuciones de edad, se encontr√≥ que:

- La **edad m√≠nima de la madre** es de **10 a√±os** y la del **padre** es de **12 a√±os**.
- Las **edades medias** son de aproximadamente **25.8 a√±os para las madres** y **29.5 a√±os para los padres**.

*Esto indica que los nacimientos en Guatemala ocurren en su mayor√≠a dentro de una poblaci√≥n joven, aunque tambi√©n se identificaron casos de maternidad y paternidad adolescentes, lo cual representa un posible riesgo social y de salud.*

Respecto al peso del beb√©:

- Se calcul√≥ el **peso total al nacer** como la suma de libras y onzas (`peso_total_lb`).
- El **peso promedio** fue de **6.75 libras**, con valores m√≠nimos cercanos a 1 libra y m√°ximos por encima de 10 libras.
- La distribuci√≥n tiene una forma **ligeramente sesgada**, con un rango saludable predominante, aunque tambi√©n se observaron casos de **bajo peso**, lo cual debe ser monitoreado por posibles riesgos de salud.

*No se puede afirmar con certeza que el peso haya aumentado con el tiempo, ya que no se realiz√≥ un an√°lisis temporal (por a√±o). Para validar esa hip√≥tesis ser√≠a necesario cruzar el peso con el a√±o del nacimiento.*

Tambi√©n se detect√≥ que las **variables num√©ricas no siguen una distribuci√≥n normal**, seg√∫n las pruebas de Shapiro-Wilk. Esto sugiere la existencia de **valores at√≠picos o distribuciones sesgadas**, especialmente en variables como:

- **N√∫mero total de hijos tenidos (`Tohite`)**
- **N√∫mero de hijos muertos (`Tohinm`)**
- **N√∫mero de hijos vivos (`Tohivi`)**

*Estas variables muestran que la mayor√≠a de las madres ha tenido entre 1 y 3 hijos, aunque tambi√©n existen casos extremos que superan los 10 hijos, posiblemente asociados a contextos rurales o generaciones anteriores.*

### c.	Crucen las variables que consideren sean las m√°s importantes para hallar los elementos clave que permitan comprender lo que est√° causando el problema encontrado.

```{r}
# üì¶ Librer√≠as necesarias
library(dplyr)
library(ggplot2)
library(scales)
library(RColorBrewer)

# üîß Transformaci√≥n y validaci√≥n de datos
datos_validados <- datos_completos %>%
  mutate(
    Edadm = as.numeric(Edadm),
    grupo_edad = case_when(
      Edadm < 20 ~ "Adolescente",
      Edadm >= 20 & Edadm < 50 ~ "Adulta",
      TRUE ~ NA_character_
    ),
    Tipar = factor(Tipar, levels = c("1", "2", "3", "4"),
                   labels = c("Vaginal", "Ces√°rea", "No especificado", "No aplica")),
    Escolam = factor(Escolam, levels = c("1", "2", "3", "4", "5", "6"),
                     labels = c("Ninguna", "Primaria", "Secundaria", "Diversificado", "Superior", "No especificado")),
    Escivm = factor(Escivm, levels = c("1", "2", "3", "4", "5", "6"),
                    labels = c("Soltera", "Casada", "Unida", "Separada", "Divorciada", "Viuda")),
    Sitioocu = factor(Sitioocu, levels = c("1", "2", "3", "4", "5"),
                      labels = c("Hospital p√∫blico", "Hospital privado", "Centro de salud", "Domicilio", "Otro")),
    Asisrec = factor(Asisrec, levels = c("1", "2", "3", "4"),
                     labels = c("M√©dico", "Enfermera", "Partera", "Otro"))
  ) %>%
  filter(!is.na(grupo_edad))

# ‚úÖ Funci√≥n mejorada
graficar_por_grupo <- function(data, grupo) {
  grupo_data <- filter(data, grupo_edad == grupo)

  # üîπ Edad vs tipo de parto
  print(
    ggplot(grupo_data, aes(x = Tipar, y = Edadm, fill = Tipar)) +
      geom_boxplot(outlier.size = 0.8) +
      labs(title = paste("Edad de la madre vs Tipo de parto (", grupo, ")"), x = "Tipo de parto", y = "Edad") +
      theme_minimal() +
      scale_fill_brewer(palette = "Set2")
  )

  # üîπ Tipo de parto seg√∫n escolaridad
  df2 <- grupo_data %>%
    filter(!is.na(Escolam), !is.na(Tipar)) %>%
    group_by(Escolam, Tipar) %>%
    summarise(n = n(), .groups = "drop") %>%
    group_by(Escolam) %>%
    mutate(prop = n / sum(n), etiqueta = percent(prop, accuracy = 1))

  print(
    ggplot(df2, aes(x = Escolam, y = prop, fill = Tipar)) +
      geom_bar(stat = "identity", position = "fill") +
      geom_text(aes(label = etiqueta), position = position_fill(vjust = 0.5), size = 3, color = "white") +
      labs(title = paste("Tipo de parto seg√∫n escolaridad (", grupo, ")"), x = "Escolaridad", y = "Proporci√≥n") +
      scale_fill_brewer(palette = "Set2") +
      scale_y_continuous(labels = percent_format()) +
      theme_minimal() +
      theme(axis.text.x = element_text(angle = 45, hjust = 1))
  )

  # üîπ Escolaridad seg√∫n estado civil
  df3 <- grupo_data %>%
    filter(!is.na(Escivm), !is.na(Escolam)) %>%
    group_by(Escivm, Escolam) %>%
    summarise(n = n(), .groups = "drop") %>%
    group_by(Escivm) %>%
    mutate(prop = n / sum(n), etiqueta = percent(prop, accuracy = 1))

  print(
    ggplot(df3, aes(x = Escivm, y = prop, fill = Escolam)) +
      geom_bar(stat = "identity", position = "fill") +
      geom_text(aes(label = etiqueta), position = position_fill(vjust = 0.5), size = 3, color = "black") +
      labs(title = paste("Escolaridad seg√∫n estado civil (", grupo, ")"), x = "Estado civil", y = "Proporci√≥n") +
      scale_fill_viridis_d(option = "C") +
      scale_y_continuous(labels = percent_format()) +
      theme_minimal() +
      theme(axis.text.x = element_text(angle = 30, hjust = 1))
  )

  # üîπ Sitio del parto vs asistencia
  df4 <- grupo_data %>%
    filter(!is.na(Sitioocu), !is.na(Asisrec)) %>%
    group_by(Sitioocu, Asisrec) %>%
    summarise(n = n(), .groups = "drop") %>%
    group_by(Sitioocu) %>%
    mutate(prop = n / sum(n), etiqueta = percent(prop, accuracy = 1))

  print(
    ggplot(df4, aes(x = Sitioocu, y = prop, fill = Asisrec)) +
      geom_bar(stat = "identity", position = "fill") +
      geom_text(aes(label = etiqueta), position = position_fill(vjust = 0.5), size = 3, color = "white") +
      labs(title = paste("Asistencia seg√∫n sitio del parto (", grupo, ")"), x = "Sitio del parto", y = "Proporci√≥n") +
      scale_fill_brewer(palette = "Set3") +
      scale_y_continuous(labels = percent_format()) +
      theme_minimal() +
      theme(axis.text.x = element_text(angle = 30, hjust = 1))
  )
}

# üü¢ Ejecutar para ambos grupos
graficar_por_grupo(datos_validados, "Adolescente")
graficar_por_grupo(datos_validados, "Adulta")
```

üìä **Gr√°fica: Edad de la madre vs Tipo de parto (Adolescente)**

üîç **An√°lisis**

- Esta gr√°fica muestra **cajas de bigotes** (boxplots) que representan la distribuci√≥n de la edad de las madres adolescentes seg√∫n el tipo de parto.

- Los tipos de parto incluyen:

  - **Vaginal**: Mayor frecuencia, con edad media entre 17 y 18 a√±os.
  - **Ces√°rea**: Similar a vaginal, aunque con mayor dispersi√≥n hacia edades m√°s tempranas (~13 a√±os).
  - **No especificado** y **No aplica**: Tambi√©n se concentran entre los 17 y 19 a√±os, aunque con una ligera dispersi√≥n a edades m√°s bajas.
- Se observan algunos **valores at√≠picos** por debajo de los 14 a√±os en todos los tipos, especialmente en "Ces√°rea".

‚úÖ **Conclusiones**

- **No hay una diferencia significativa de edad** entre los tipos de parto dentro del grupo adolescente, lo que sugiere que la elecci√≥n del tipo de parto **no est√° determinada por la edad en este grupo etario**.
- La mayor√≠a de partos, independientemente de su tipo, ocurren entre los 17 y 19 a√±os.
- La presencia de partos por ces√°rea y otras categor√≠as en edades muy tempranas (13‚Äì15 a√±os) **podr√≠a indicar situaciones de riesgo o embarazos no planificados** que requieren atenci√≥n especial.

üìä **Gr√°fica: Tipo de parto seg√∫n escolaridad (Adolescente)**

üîç **An√°lisis**

- Esta gr√°fica representa la **proporci√≥n del tipo de parto** (vaginal, ces√°rea, no especificado, no aplica) en funci√≥n del nivel de **escolaridad de la madre adolescente**.

- En todos los niveles de escolaridad, el **parto vaginal predomina de forma absoluta**:

  - Del 99% al 100% de los casos son partos vaginales.
- Los partos por **ces√°rea** y otras categor√≠as representan **menos del 1%** y son pr√°cticamente despreciables en todas las barras.
- El color de los segmentos es casi indistinguible para los partos no vaginales por su baja frecuencia.

‚úÖ **Conclusiones**

- El nivel educativo **no parece influir en el tipo de parto** en adolescentes.
- La alt√≠sima proporci√≥n de partos vaginales (99‚Äì100%) podr√≠a reflejar:
  - Una **preferencia institucional o m√©dica** por evitar ces√°reas en adolescentes.
  - **Limitaciones de acceso** a servicios que permitan elegir otro tipo de parto.
- La escolaridad no cambia significativamente el patr√≥n, lo que sugiere que en la adolescencia la decisi√≥n del tipo de parto **no depende de factores educativos**, sino probablemente de criterios m√©dicos est√°ndar o restricciones del sistema de salud.


üìä **Gr√°fica: Escolaridad seg√∫n estado civil (Adolescente)**

üîç **An√°lisis**

- Esta gr√°fica muestra la **proporci√≥n de niveles educativos** seg√∫n el **estado civil** de las madres adolescentes.
- **Observaciones clave por grupo**:

üî∏ **Solteras**:
  - 39% no tienen escolaridad.
  - 39% tienen primaria.
  - Solo el 6% ha alcanzado diversificado y apenas el 0% superior.

üî∏ **Casadas**:
  - Distribuci√≥n similar: 39% sin escolaridad, 34% primaria, 18% secundaria, 8% diversificado, 0% superior.

üî∏ **Unidas** (convivientes):
  - Destaca el **68% sin escolaridad**, mucho m√°s alto que en otros grupos.
  - El resto con primaria (23%) y muy poca secundaria o m√°s (2% diversificado).

#‚úÖ **Conclusiones**

- **El nivel educativo entre adolescentes es bajo en todos los estados civiles**, pero especialmente alarmante entre las madres **unidas**, donde m√°s de **dos tercios no tienen escolaridad**.
- Las adolescentes **casadas o solteras** tienen distribuciones educativas similares, aunque ligeramente mejores que las unidas.
- Estos resultados reflejan una **posible vulnerabilidad social y educativa** en madres adolescentes en uni√≥n libre, lo que puede impactar en sus oportunidades futuras y en el bienestar de sus hijos.
- Sugiere que **la maternidad temprana puede interrumpir significativamente la continuidad educativa**, especialmente en contextos de uni√≥n informal.


üìä **Gr√°fica: Asistencia m√©dica seg√∫n sitio del parto (Adolescente)**

üîç **An√°lisis**

- La gr√°fica relaciona el **sitio del parto** con el tipo de **asistencia recibida** por madres adolescentes.
- **Hospital p√∫blico**:  
  - El 100% de los partos fueron asistidos por **m√©dicos**. Esto muestra una estandarizaci√≥n del servicio.
  
- **Hospital privado**:  
  - Similar tendencia: 98% asistencia m√©dica.

- **Centro de salud**:  
  - 92% de los partos fueron atendidos por m√©dicos, aunque aparecen peque√±as proporciones de enfermeras, parteras y otros.

- **Domicilio**:  
  - Aqu√≠ cambia radicalmente:  
    - Solo el **30% fue atendido por m√©dicos**.
    - **64% por enfermeras**, 5% por parteras, 2% por otras personas.
    - Esto puede indicar menor acceso a servicios m√©dicos especializados.

- **Otros sitios**:  
  - Aqu√≠ domina la partera (54%) y el 27% fue atendido por ‚Äúotro‚Äù, lo que refleja **asistencia no profesional o informal**.
  - Solo 8% por m√©dico, 11% por enfermera.

‚úÖ **Conclusiones**

- Existe una **clara relaci√≥n entre el tipo de asistencia m√©dica y el sitio del parto**:

  - En **centros institucionales** (hospitales o centros de salud), los partos son atendidos casi exclusivamente por m√©dicos.
  - En **espacios no institucionales** (domicilio u ‚Äúotros‚Äù), aumenta dr√°sticamente la atenci√≥n por **personal no m√©dico o incluso no calificado**.
- Las madres adolescentes que no acceden a servicios institucionales corren mayor riesgo por **atenci√≥n inadecuada**.
- Esto revela una **brecha en el acceso a servicios de salud adecuados** para adolescentes que no acuden a hospitales o centros p√∫blicos.


üìä **Gr√°fica: Edad de la madre vs Tipo de parto (Adulta)**

üîç **An√°lisis**

- Esta gr√°fica compara la edad de las madres adultas seg√∫n el tipo de parto.
- Las edades se distribuyen principalmente entre los **20 y 50 a√±os**.
- La **mediana de edad** var√≠a seg√∫n el tipo de parto:
  - **Vaginal**: mediana cercana a los 27 a√±os.
  - **Ces√°rea**: mediana un poco mayor, alrededor de los 29 a√±os.
  - **No especificado**: mediana de aproximadamente 31 a√±os.
  - **No aplica**: mediana similar a ces√°rea, pero con menor dispersi√≥n.

‚úÖ **Conclusiones**

- Las madres con **partos por ces√°rea o no especificados** tienden a tener una edad **ligeramente superior** a las que tuvieron partos vaginales.
- Esto podr√≠a deberse a factores m√©dicos relacionados con la edad (mayor probabilidad de ces√°rea en madres de m√°s edad).
- Se observa una **mayor dispersi√≥n** en los partos no especificados y ces√°reas, lo cual sugiere que estos tipos de parto ocurren tanto en edades j√≥venes como avanzadas dentro del grupo adulto.
- La edad media de las madres adultas se mantiene **dentro de un rango reproductivo esperado**, sin grandes extremos.

üìä **Gr√°fica: Tipo de parto seg√∫n escolaridad (Adulta)**

üîç **An√°lisis**

- La mayor√≠a de partos en **madres adultas**, sin importar el nivel educativo, son **vaginales (97‚Äì99%)**.
- El porcentaje de **ces√°reas** es bajo pero levemente **m√°s alto en mujeres con educaci√≥n superior (2%)** y en aquellas con escolaridad no especificada.
- Las categor√≠as de ‚ÄúNo especificado‚Äù y ‚ÄúNo aplica‚Äù casi no aparecen, lo cual **mejora la interpretaci√≥n** de la gr√°fica respecto a la versi√≥n anterior.
- La escolaridad est√° bien distribuida en la visualizaci√≥n y ahora es **legible**.

‚úÖ **Conclusiones**

- El **tipo de parto no var√≠a significativamente** con la escolaridad en madres adultas: la v√≠a vaginal domina en todos los niveles.
- Sin embargo, el **leve aumento de ces√°reas en mujeres con mayor educaci√≥n** podr√≠a estar relacionado con un mayor acceso a servicios privados de salud o una mayor planificaci√≥n del parto.
- No hay evidencia clara de que el nivel educativo influya directamente en el tipo de parto, pero s√≠ podr√≠a estar relacionado con **acceso a opciones**.

üìä **Gr√°fica: Escolaridad seg√∫n estado civil (Adulta)**

üîç **An√°lisis**

- **Madres unidas** presentan el menor nivel educativo: **64% sin escolaridad** y apenas **5% con educaci√≥n secundaria o m√°s**.
- Las **madres casadas** y **solteras** muestran una mayor diversidad educativa:
  - Casadas: 31% primaria, 17% secundaria, 17% diversificado, 8% superior.
  - Solteras: 34% primaria, 18% secundaria, 13% diversificado, 0% superior.
- El nivel educativo **superior** se observa casi exclusivamente en madres **casadas**, aunque con una proporci√≥n baja.
- En todas las categor√≠as, el nivel de educaci√≥n ‚ÄúNinguna‚Äù o ‚ÄúPrimaria‚Äù representa la **mayor√≠a**.

‚úÖ **Conclusiones**

- El estado civil se relaciona con el nivel educativo:

  - **Las mujeres casadas tienden a tener mayor escolaridad** que las unidas o solteras.
  - **Las madres unidas son el grupo m√°s vulnerable** en t√©rminos educativos.
  
- Esto puede reflejar patrones socioculturales donde las mujeres con menor acceso a educaci√≥n formal se casan o se unen a edades m√°s tempranas o en contextos menos formales.

üìä **Gr√°fica: Asistencia m√©dica seg√∫n sitio del parto (Adulta)**

üîç **An√°lisis**

- **Hospital p√∫blico**: Casi **todos los partos fueron atendidos por m√©dicos (100%)**, lo que refleja una alta institucionalizaci√≥n en este tipo de establecimiento.
- **Hospital privado** y **centros de salud** tambi√©n presentan una **alta proporci√≥n de partos atendidos por m√©dicos** (99% y 92%, respectivamente), aunque aparece una peque√±a proporci√≥n de otros tipos de asistencia (como enfermeras o parteras).
- **Partos en domicilio** muestran una **distribuci√≥n variada**:
  - Solo 55% fueron asistidos por m√©dicos.
  - Un 41% fue atendido por **enfermeras**, lo cual resalta la presencia de asistencia profesional fuera del √°mbito hospitalario.
- **Otros lugares** presentan una situaci√≥n m√°s preocupante:
  - Mayoritariamente asistidos por **parteras (56%)**.
  - Alta proporci√≥n atendida por **personas sin formaci√≥n m√©dica formal (28% ‚ÄúOtro‚Äù)**.

#‚úÖ **Conclusiones**

- Hay una clara relaci√≥n entre el **tipo de instituci√≥n o lugar de parto** y el **tipo de asistencia m√©dica recibida**.
- Mientras los entornos hospitalarios garantizan una atenci√≥n por m√©dicos, los nacimientos fuera de hospitales ‚Äîespecialmente en ‚Äúdomicilio‚Äù u ‚Äúotro‚Äù‚Äî reflejan una mayor vulnerabilidad sanitaria.
- Esto sugiere una necesidad de **mayor cobertura y acceso a atenci√≥n profesional** en zonas rurales o de dif√≠cil acceso, donde los partos fuera de hospitales son m√°s frecuentes.

üß† **Conclusiones Generales Comparativas (Adolescentes vs Adultas)**

üìå 1. Edad de la madre vs tipo de parto

- En **ambos grupos**, el tipo de parto **m√°s frecuente** es el **vaginal**.
- **Las adolescentes** tienen una edad m√°s concentrada (mediana ~18 a√±os) y valores menos dispersos.
- **Las adultas** presentan una mayor dispersi√≥n en la edad al momento del parto, especialmente en partos por ces√°rea o no especificados, indicando una mayor heterogeneidad en su perfil reproductivo.

üìå 2. Tipo de parto seg√∫n escolaridad

- Tanto en **adolescentes** como en **adultas**, el **parto vaginal representa m√°s del 97%** de los casos sin importar el nivel educativo.
- La **ces√°rea** es muy poco frecuente, pero su proporci√≥n **aumenta ligeramente** en mujeres adultas con mayor escolaridad.
- No se observan diferencias significativas en adolescentes seg√∫n escolaridad (probablemente porque la mayor√≠a a√∫n no ha completado ciclos educativos superiores).

üìå 3. Escolaridad seg√∫n estado civil

- En **adolescentes**, los niveles educativos predominantes son **primaria y secundaria**, con un alto porcentaje de mujeres con **ninguna escolaridad**, especialmente en las unidas (68%).
- En **adultas**, se observa un ligero avance educativo: aunque a√∫n predomina la escolaridad b√°sica, el porcentaje con diversificado y superior es m√°s alto que en adolescentes.
- En ambos grupos, las **mujeres solteras o casadas tienen mayor escolaridad** que aquellas en uni√≥n libre.

üìå 4. Asistencia m√©dica seg√∫n sitio del parto

- Para **ambos grupos**, los partos en hospitales p√∫blicos, privados o centros de salud est√°n **principalmente atendidos por m√©dicos (92%‚Äì100%)**.
- Las **diferencias se acent√∫an en partos domiciliarios o en lugares ‚Äúotros‚Äù**:
  - En **adolescentes**, hay m√°s partos asistidos por **parteras (54%)** y **enfermeras (64%)**.
  - En **adultas**, aunque tambi√©n hay una alta proporci√≥n de asistencia no m√©dica, hay **m√°s partos domiciliarios atendidos por m√©dicos (55%)** comparado con adolescentes (30%).

üìç **Conclusi√≥n Final**

- La **condici√≥n de adolescente** implica una mayor concentraci√≥n en edades bajas, niveles educativos m√°s limitados y mayor riesgo de partos fuera del sistema formal de salud.
- Las **mujeres adultas**, aunque muestran mayor diversidad, evidencian mejores condiciones educativas y mayor acceso a servicios de salud institucionalizados.
- La escolaridad y el estado civil parecen ser factores asociados al tipo de atenci√≥n recibida y al contexto del parto, por lo que deben ser variables clave en pol√≠ticas de salud reproductiva.

## d.	Realicen gr√°ficos exploratorios que les d√© ideas del estado de los datos.

Para hacer este analisis debemos de profundizar sobre los datos, Por ello vamos a utilizar algunas graficos que representen lo que estamos buscando

Lo primero es responder a las preguntas por ejemplo

¬øEl sexo del beb√© influye en el peso al nacer?

Para ello realizamos el siguiente grafico

```{r}
library(haven)
library(dplyr)
library(ggplot2)

ruta <- "./datos_nacimientos_de_2009_a_2022.RData"

# Cargar el archivo RData
load(ruta)


# Crear una nueva variable con el peso total en onzas sin modificar Libras y Onzas originales
datos_limpios <- datos_completos %>%
  mutate(
    Edadp  = as.numeric(Edadp),
    Edadm  = as.numeric(Edadm),
    Libras = as.numeric(Libras),
    Onzas  = as.numeric(Onzas),
    Tohite = as.numeric(Tohite),
    Tohinm = as.numeric(Tohinm),
    Tohivi = as.numeric(Tohivi)
  ) %>%
  filter(
    Edadp >= 10 & Edadp <= 90,
    Edadm >= 10 & Edadm <= 100,
    Libras >= 1 & Libras <= 10,
    Onzas >= 0 & Onzas <= 15,
    Tohite >= 0 & Tohite <= 20,
    Tohinm >= 0 & Tohinm <= 20,
    Tohivi >= 0 & Tohivi <= 20
  )



datos_cambiados <- datos_limpios %>% 
  mutate(Peso_Onzas = (Libras * 16) + Onzas)

# üìä Gr√°fico de caja para comparar peso por sexo
ggplot(datos_cambiados, aes(x = Sexo, y = Peso_Onzas, fill = Sexo)) +
  geom_boxplot(alpha = 0.7) +
  labs(title = "Distribuci√≥n del Peso al Nacer por Sexo",
       x = "Sexo del Beb√©",
       y = "Peso al Nacer (Onzas)") +
  scale_fill_manual(values = c("blue", "pink")) +  # Colores t√≠picos
  theme_minimal()
```

üß† An√°lisis del gr√°fico: Distribuci√≥n del peso al nacer por sexo

La gr√°fica muestra que existe una ligera diferencia en el peso al nacer entre los reci√©n nacidos hombres (c√≥digo 1) y mujeres (c√≥digo 2). En promedio, los ni√±os tienen un peso levemente superior al de las ni√±as. Esta diferencia se observa tanto en la mediana como en la distribuci√≥n general de los datos, aunque no es extremadamente pronunciada.

**Conclusiones:**

- **S√≠ hay una diferencia observable por sexo.** Aunque la diferencia entre medianas no es muy grande, se mantiene constante en toda la distribuci√≥n.
- **Los ni√±os tienden a nacer con un peso mayor que las ni√±as.** Esto es consistente con hallazgos biom√©dicos que indican que el sexo masculino suele estar asociado con un peso ligeramente superior al nacer.
- **La diferencia no es dr√°stica**, pero s√≠ lo suficientemente clara como para ser tomada en cuenta como una variable potencialmente influyente en el an√°lisis del peso al nacer.
- Para evaluar si esta diferencia es estad√≠sticamente significativa, se recomienda complementar este an√°lisis gr√°fico con una prueba de hip√≥tesis como el test de Wilcoxon o t-test.

```{r}
library(haven)
library(dplyr)
library(ggplot2)
library(viridis)

# Cargar archivo
load("datos_nacimientos_de_2009_a_2022.RData")

# Detectar autom√°ticamente el data frame
obj <- ls()[sapply(ls(), function(x) is.data.frame(get(x)))]
if (length(obj) == 0) stop("‚ùå No se encontr√≥ ning√∫n data frame cargado.")
datos_limpios <- get(obj[1])

# Etiquetas para tipo de parto
etiquetas_tipar <- c("1" = "Vaginal", "2" = "Ces√°rea", "3" = "No especificado", "4" = "No aplica")
vars_categoricas <- c("Sexo", "Escivp", "Escolap", "Asisrec", "Sitioocu")

tryCatch({

  # Reetiquetar Tipar si existe
  if ("Tipar" %in% names(datos_limpios)) {
    datos_limpios$Tipar <- recode(as.character(datos_limpios$Tipar), !!!etiquetas_tipar)
    datos_limpios$Tipar <- factor(datos_limpios$Tipar)
  }

  # Limpieza y transformaci√≥n
  datos_limpios <- datos_limpios %>%
    mutate(
      Edadp = as.numeric(as.character(Edadp)),
      Libras = as.numeric(as.character(Libras)),
      Onzas = as.numeric(as.character(Onzas)),
      peso_total_lb = Libras + (Onzas / 16)
    ) %>%
    filter(
      Edadp >= 10 & Edadp <= 90,
      Libras >= 1 & Libras <= 10,
      Onzas >= 0 & Onzas <= 15
    )

  for (var in vars_categoricas) {
    if (var %in% names(datos_limpios)) {
      datos_limpios[[var]] <- as.factor(as.character(datos_limpios[[var]]))
    }
  }

  # üîπ Opci√≥n A: geom_bin2d (m√°s visual y r√°pido)
  print(ggplot(datos_limpios, aes(x = Edadp, y = peso_total_lb)) +
          geom_bin2d(bins = 50) +
          scale_fill_viridis_c() +
          labs(
            title = "Edad de la madre vs Peso al nacer (geom_bin2d)",
            subtitle = "Peso en libras = Libras + Onzas/16",
            x = "Edad de la madre",
            y = "Peso total (libras)"
          ) +
          theme_minimal())

  # üîπ Opci√≥n B: Datos resumidos y tama√±o proporcional a frecuencia
  datos_resumidos <- datos_limpios %>%
    group_by(Edadp, peso_total_lb) %>%
    summarise(n = n(), .groups = "drop")

  print(ggplot(datos_resumidos, aes(x = Edadp, y = peso_total_lb, size = n)) +
          geom_point(alpha = 0.5, color = "steelblue") +
          scale_size_continuous(range = c(0.5, 6)) +
          labs(
            title = "Edad de la madre vs Peso al nacer (tama√±o ~ frecuencia)",
            subtitle = "Cada punto representa una combinaci√≥n √∫nica",
            x = "Edad de la madre",
            y = "Peso total (libras)",
            size = "Frecuencia"
          ) +
          theme_minimal())

  gc()

}, error = function(e) {
  message("‚ùå Error: ", e$message)
})
```

üìä **An√°lisis de la gr√°fica**

1. **Ejes y variables**:
   - **Eje X**: Edad de la madre (a√±os), desde los 10 hasta los 90.
   - **Eje Y**: Peso del beb√© al nacer (en libras, combinando libras + onzas/16).
   - **Color (intensidad)**: Cantidad de observaciones en cada bin (bloque), representando densidad.

2. **Distribuci√≥n central**:
   - La mayor densidad de nacimientos (color amarillo intenso) se concentra entre:
     - **Edad de la madre**: 20 a 30 a√±os.
     - **Peso al nacer**: entre **6.5 y 7.5 libras**.
   - Estas combinaciones presentan hasta **m√°s de 80,000 nacimientos** por bloque, seg√∫n la escala de color.

3. **Patrones laterales**:
   - A medida que la edad de la madre aumenta (m√°s all√° de los 40 a√±os), la cantidad de nacimientos disminuye considerablemente (bloques m√°s oscuros).
   - Tambi√©n se observa una mayor dispersi√≥n en el peso de los reci√©n nacidos a edades extremas (tanto madres adolescentes como mayores).

4. **Variabilidad del peso**:
   - Si bien el peso promedio se mantiene estable en el rango central de edad, se observan m√°s valores at√≠picos (peso bajo o alto) fuera del rango de 20‚Äì35 a√±os.

‚úÖ **Conclusiones**

- **La mayor√≠a de los nacimientos** ocurren en mujeres entre los 20 y 30 a√±os, y los beb√©s en ese grupo tienen un **peso promedio normal** (6.5‚Äì7.5 lb).
- **La edad de la madre s√≠ influye** ligeramente en la variabilidad del peso:
  - Madres muy j√≥venes o muy mayores presentan mayor dispersi√≥n y casos con bajo peso al nacer.
- **No hay una tendencia lineal directa** entre mayor edad y mayor o menor peso, pero s√≠ hay una mayor dispersi√≥n conforme la edad se aleja de la mediana poblacional.

üìä **An√°lisis de la gr√°fica**

1. **Ejes y significado**:
   - **Eje X**: Edad de la madre (de 10 a 90 a√±os).
   - **Eje Y**: Peso al nacer en libras (calculado como `libras + onzas/16`).
   - **Tama√±o del punto**: Representa la cantidad de casos para cada combinaci√≥n espec√≠fica de edad y peso.

2. **Zona de mayor concentraci√≥n**:
   - La mayor√≠a de los puntos grandes se concentran entre:
     - **Edad de la madre**: 20 a 30 a√±os.
     - **Peso al nacer**: 6.5 a 7.5 libras.
   - Estos puntos grandes indican que estas combinaciones son **extremadamente frecuentes** (alrededor de 30,000 casos por punto).

3. **Distribuci√≥n general**:
   - Se observa una **forma ovalada horizontal**, con menor frecuencia en los extremos de edad.
   - A edades m√°s tempranas (<20) o m√°s avanzadas (>40), hay **m√°s dispersi√≥n** en el peso al nacer, aunque con menor frecuencia.

4. **Frecuencia de combinaciones at√≠picas**:
   - Puntos peque√±os alrededor de los extremos (edades > 50 y pesos < 4 lb o > 9 lb) muestran que esas combinaciones existen, pero son **poco comunes**.

‚úÖ **Conclusiones**

- La mayor√≠a de los nacimientos ocurren en mujeres de entre 20 y 30 a√±os, y sus beb√©s nacen con un peso t√≠pico (entre 6.5 y 7.5 libras).
- El tama√±o de los puntos confirma que **estas combinaciones son las m√°s frecuentes**, superando las 30,000 ocurrencias.
- A edades extremas de la madre (menores de 20 o mayores de 40 a√±os), el peso al nacer es m√°s variable y hay menor cantidad de casos.
- Esta representaci√≥n visual es muy √∫til para identificar **zonas densas y outliers** al mismo tiempo, y muestra claramente c√≥mo el **peso al nacer tiende a estabilizarse en edades reproductivas √≥ptimas**.

Sabiendo lo anterior podemos plantear la pregunta...

**¬øCuantos embarazos se pueden catalogar como adolescentes?**

Para ello realizamos el siguiente grafico. 

```{r}
library(ggplot2)
library(dplyr)

# Definir el l√≠mite de edad para considerar embarazo adolescente (< 20 a√±os)
limite_edad <- 20

# Clasificaci√≥n y c√°lculo del peso en onzas
datos_adolescentes <- datos_limpios %>%
  mutate(
    Embarazo_Adolescente = ifelse(Edadp < limite_edad, "Adolescente", "No Adolescente"),
    Peso_Onzas = (Libras * 16) + Onzas
  ) %>%
  filter(!is.na(Peso_Onzas))  # Asegura que no haya NA en el eje Y

# üìä Gr√°fico de caja del peso al nacer por tipo de embarazo
ggplot(datos_adolescentes, aes(x = Embarazo_Adolescente, y = Peso_Onzas, fill = Embarazo_Adolescente)) +
  geom_boxplot(alpha = 0.7, outlier.shape = 16, outlier.size = 1.5) +
  labs(
    title = "Distribuci√≥n del Peso al Nacer seg√∫n Tipo de Embarazo",
    subtitle = "Comparaci√≥n entre embarazos adolescentes (<20 a√±os) y no adolescentes",
    x = "Tipo de Embarazo",
    y = "Peso al Nacer (Onzas)"
  ) +
  scale_fill_manual(values = c("Adolescente" = "#F8766D", "No Adolescente" = "#00BA38")) +
  theme_minimal()
```
üìä **An√°lisis de la gr√°fica**

**T√≠tulo**: *Distribuci√≥n del Peso al Nacer seg√∫n Tipo de Embarazo*  
**Comparaci√≥n**: Madres adolescentes (< 20 a√±os) vs. madres no adolescentes (‚â• 20 a√±os)  
**Unidad**: Peso en onzas (Libras √ó 16 + Onzas)

#### Observaciones clave:
1. **Mediana m√°s baja**:
   - Los beb√©s nacidos de madres adolescentes presentan una **mediana de peso menor** que los nacidos de madres adultas.
   - Esto indica que en promedio, los reci√©n nacidos de embarazos adolescentes pesan menos.

2. **Mayor dispersi√≥n en adolescentes**:
   - La caja (rango intercuart√≠lico) de los embarazos adolescentes es ligeramente m√°s compacta, pero hay **outliers inferiores m√°s extremos**, es decir, beb√©s con pesos notablemente bajos.
   - Esto puede asociarse a **mayor riesgo de partos prematuros o bajo peso al nacer** en este grupo.

3. **Presencia de valores at√≠picos en ambos grupos**:
   - Aunque ambos grupos tienen outliers, en los embarazos adolescentes estos se concentran en la parte baja del gr√°fico.

**üß† Conclusiones**

- **S√≠ existe una diferencia significativa** en el peso al nacer entre beb√©s de madres adolescentes y no adolescentes, aunque no es dr√°stica, **es sistem√°tica y cl√≠nicamente relevante**.
- Este patr√≥n refuerza la hip√≥tesis de que el embarazo adolescente puede estar asociado a:
  - Menor peso al nacer.
  - Mayor incidencia de partos prematuros.
  - Condiciones desfavorables para el desarrollo fetal.
- La diferencia justifica seguir analizando esta poblaci√≥n con m√°s detalle, por ejemplo:
  - ¬øEn qu√© regiones se concentran m√°s los embarazos adolescentes?
  - ¬øC√≥mo ha evolucionado la tasa de embarazos adolescentes a lo largo del tiempo?
  - ¬øExisten diferencias en el acceso a salud prenatal seg√∫n edad?

Por lo que conociendo esto podemos ponernos a preguntar lo siguiente... 

**¬øHa habido un aumento o disminucion de los embarazos adolescentes?** 

Esto nos queremos preguntar para ver si ha crecido o si se ha mantenido o decrecido los ultimos a√±os los embarazos adolescentes. 

```{r}
library(ggplot2)
library(dplyr)

# Cargar archivo con los datos
load("datos_nacimientos_de_2009_a_2022.RData")  # Aseg√∫rate de que est√© en tu directorio actual

# Detectar autom√°ticamente el data frame dentro del RData
obj <- ls()[sapply(ls(), function(x) is.data.frame(get(x)))]
if (length(obj) == 0) stop("‚ùå No se encontr√≥ ning√∫n data frame cargado.")
datos_limpios <- get(obj[1])  # Usar el primer data frame detectado

# Asegurarse de que 'anio' est√© correctamente definido y como num√©rico
if (!"anio" %in% names(datos_limpios)) stop("‚ùå La variable 'anio' no est√° presente en los datos.")
datos_limpios <- datos_limpios %>%
  mutate(
    anio = as.numeric(as.character(anio)),
    Edadp = as.numeric(as.character(Edadp))
  )

# Definir l√≠mite para embarazo adolescente (<20 a√±os)
limite_edad <- 20

# Agrupar por a√±o
evolucion_embarazos <- datos_limpios %>%
  filter(!is.na(anio), Edadp < limite_edad) %>%
  group_by(anio) %>%
  summarise(Total_Adolescentes = n(), .groups = "drop")

# üìä Gr√°fico
ggplot(evolucion_embarazos, aes(x = anio, y = Total_Adolescentes)) +
  geom_line(color = "blue", size = 1) +
  geom_point(color = "red", size = 2) +
  labs(
    title = "Evoluci√≥n de los Embarazos Adolescentes por A√±o",
    subtitle = "Comparaci√≥n anual de casos (< 20 a√±os)",
    x = "A√±o",
    y = "N√∫mero de Embarazos Adolescentes"
  ) +
  theme_minimal()
```

**Analisis**

Podemos ver que si hay un decremento en la cantidad de embarazos adolescentes, aunque se ha visto un crecimiento en los ultimos 3 a√±os si se toma a perspectiva se puede observar que realmente ha disminuido drasticamente. Esto es normal en la mayoria de sociedades actualmente ya que debido al nivel de escolaridad que ya investigamos con anterioridad , y a la generalizacion de la informacion posiblemente muchas mujeres conocen los riegos de un embarazo de este estilo. 


Ello indica una metrica bastante buena. Vemos que si realmente se ha visto un cambio en la manera de pensar de muchos jovenes, pero aun asi si hay un alza de embarazos adolescentes, Lo que podemos hacer es investigar porque sucede esto. Puede ser por temas sociales, culturales y hasta economicos actuales. 


Por ello nos vamos a hacer la siguiente pregunta de analisis. 


**¬øCuantos embarazos adolescentes hay por departamento?**

Hacemos esto para primero ver el contexto de ubicacion para cada mama. 


Para ello hacemos la siguiente grafica. 



```{r}
library(ggplot2)
library(dplyr)

# Cargar archivo con los datos
load("datos_nacimientos_de_2009_a_2022.RData")

# Detectar autom√°ticamente el data frame dentro del RData
obj <- ls()[sapply(ls(), function(x) is.data.frame(get(x)))]
if (length(obj) == 0) stop("‚ùå No se encontr√≥ ning√∫n data frame cargado.")
datos_limpios <- get(obj[1])  # Usar el primer data frame detectado

# Diccionario INE para convertir c√≥digo a nombre de departamento
departamentos_ine <- c(
  "1" = "Guatemala", "2" = "El Progreso", "3" = "Sacatep√©quez", "4" = "Chimaltenango",
  "5" = "Escuintla", "6" = "Santa Rosa", "7" = "Solol√°", "8" = "Totonicap√°n",
  "9" = "Quetzaltenango", "10" = "Suchitep√©quez", "11" = "Retalhuleu", "12" = "San Marcos",
  "13" = "Huehuetenango", "14" = "Quich√©", "15" = "Baja Verapaz", "16" = "Alta Verapaz",
  "17" = "Pet√©n", "18" = "Izabal", "19" = "Zacapa", "20" = "Chiquimula",
  "21" = "Jalapa", "22" = "Jutiapa"
)

# Datos de poblaci√≥n aproximados por departamento (ajustar si se tiene fuente oficial)
poblacion_departamental <- c(
  "Guatemala" = 3400000, "El Progreso" = 200000, "Sacatep√©quez" = 330000, "Chimaltenango" = 615000,
  "Escuintla" = 800000, "Santa Rosa" = 400000, "Solol√°" = 550000, "Totonicap√°n" = 450000,
  "Quetzaltenango" = 830000, "Suchitep√©quez" = 600000, "Retalhuleu" = 400000, "San Marcos" = 1080000,
  "Huehuetenango" = 1200000, "Quich√©" = 1000000, "Baja Verapaz" = 300000, "Alta Verapaz" = 1300000,
  "Pet√©n" = 800000, "Izabal" = 500000, "Zacapa" = 250000, "Chiquimula" = 400000,
  "Jalapa" = 250000, "Jutiapa" = 500000
)

# Procesamiento
datos_limpios <- datos_limpios %>%
  mutate(
    Edadp = as.numeric(as.character(Edadp)),
    Deprem = recode(as.character(Deprem), !!!departamentos_ine)
  ) %>%
  filter(!is.na(Edadp) & Edadp < 20)  # Solo embarazos adolescentes

# Contar nacimientos adolescentes por departamento
embarazos_adolescentes <- datos_limpios %>%
  group_by(Deprem) %>%
  summarise(Total_Adolescentes = n(), .groups = "drop") %>%
  filter(!is.na(Deprem)) %>%
  mutate(
    Poblacion = poblacion_departamental[Deprem],
    Tasa_por_mil = round((Total_Adolescentes / Poblacion) * 1000, 2)
  ) %>%
  arrange(desc(Tasa_por_mil))

# üìä Gr√°fico de tasas
ggplot(embarazos_adolescentes, aes(x = reorder(Deprem, -Tasa_por_mil), y = Tasa_por_mil, fill = Deprem)) +
  geom_bar(stat = "identity", alpha = 0.8, show.legend = FALSE) +
  labs(
    title = "Tasa de Embarazos Adolescentes por Departamento",
    subtitle = "Por cada mil habitantes",
    x = "Departamento",
    y = "Tasa de Nacimientos (Adolescentes)"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

**Analisis**

Usaremos la codificacion de INE sobre los departamentos de guatemala. 


üìä **An√°lisis de la Tasa de Embarazos Adolescentes por Departamento**

El gr√°fico muestra la **tasa de embarazos adolescentes** por cada mil habitantes en los distintos departamentos de Guatemala, con base en los nacimientos registrados entre 2009 y 2022.

üîç Observaciones clave:

1. **Huehuetenango**, **Jalapa** y **San Marcos** son los departamentos con **las tasas m√°s altas**, superando los **25 embarazos adolescentes por cada 1,000 habitantes**, lo cual evidencia una mayor prevalencia relativa de embarazos en menores de 20 a√±os.

2. **Alta Verapaz**, a pesar de tener una gran poblaci√≥n, no se encuentra entre los m√°s altos en tasa proporcional, lo que indica que **una alta cantidad de nacimientos no necesariamente implica alta tasa** si se ajusta por poblaci√≥n.

3. **Guatemala** y **El Progreso** presentan **las tasas m√°s bajas**, con menos de 15 embarazos adolescentes por cada mil habitantes, lo cual puede estar relacionado con mayor acceso a educaci√≥n, salud sexual y reproductiva, o estilos de vida urbanos.

4. Aparecen categor√≠as ‚Äú23‚Äù y ‚Äú99‚Äù, lo cual sugiere que **hay datos con c√≥digos no mapeados a departamentos**, posiblemente nacimientos con departamento no especificado o mal codificado. Estos deben **limpiarse o categorizarse como ‚ÄúDesconocido‚Äù** si se desea conservarlos.

‚úÖ Conclusiones:

- Ajustar los nacimientos por poblaci√≥n permite un an√°lisis **m√°s justo y comparativo**, eliminando el sesgo de los departamentos con mayor n√∫mero de habitantes.
  
- **Existe una disparidad territorial clara**: los departamentos rurales o con menor acceso a servicios (como Huehuetenango o Jalapa) tienen tasas m√°s elevadas, lo cual sugiere brechas en educaci√≥n sexual, acceso a anticonceptivos o condiciones culturales.

- Estos resultados son √∫tiles para que **pol√≠ticas p√∫blicas y programas sociales** puedan focalizar esfuerzos en los departamentos con mayor tasa proporcional, priorizando educaci√≥n y prevenci√≥n.

Conociendo el contexto de la ubicacion de la madre queremos ver tambien el contexto familiar de la madre. Esto nos lleva a realizar la siguiente busqueda... 

**Estado civil madre**

Para ello vamos a ver  el estado de la madres adolescentes

```{r}
library(ggplot2)
library(dplyr)

# Cargar el archivo RData
ruta <- "./datos_nacimientos_de_2009_a_2022.RData"
load(ruta)

# Limpiar y convertir tipos num√©ricos + filtrar valores v√°lidos
datos_limpios <- datos_completos %>%
  mutate(
    Edadp  = as.numeric(Edadp),
    Edadm  = as.numeric(Edadm),
    Libras = as.numeric(Libras),
    Onzas  = as.numeric(Onzas),
    Tohite = as.numeric(Tohite),
    Tohinm = as.numeric(Tohinm),
    Tohivi = as.numeric(Tohivi)
  ) %>%
  filter(
    Edadp >= 10 & Edadp <= 90,
    Edadm >= 10 & Edadm <= 100,
    Libras >= 1 & Libras <= 10,
    Onzas >= 0 & Onzas <= 15,
    Tohite >= 0 & Tohite <= 20,
    Tohinm >= 0 & Tohinm <= 20,
    Tohivi >= 0 & Tohivi <= 20
  )

# Crear nueva variable con el peso total en onzas
datos_cambiados <- datos_limpios %>%
  mutate(Peso_Onzas = (Libras * 16) + Onzas)

# Reetiquetar estados civiles para mejor interpretaci√≥n
etiquetas_estado_civil <- c(
  "1" = "Soltera",
  "2" = "Casada",
  "3" = "Unida",
  "4" = "Viuda",
  "5" = "Divorciada",
  "6" = "Separada",
  "9" = "No especificado"
)

# Contar nacimientos por estado civil
nacimientos_por_estado_civil <- datos_limpios %>%
  mutate(Escivm = recode(as.character(Escivm), !!!etiquetas_estado_civil)) %>%
  group_by(Escivm) %>%
  summarise(Total_Nacimientos = n()) %>%
  arrange(desc(Total_Nacimientos))

# üìä Gr√°fico de barras del n√∫mero de nacimientos por estado civil
ggplot(nacimientos_por_estado_civil, aes(x = reorder(Escivm, -Total_Nacimientos), y = Total_Nacimientos, fill = Escivm)) +
  geom_bar(stat = "identity", alpha = 0.9) +
  labs(
    title = "N√∫mero de Nacimientos por Estado Civil de la Madre",
    x = "Estado Civil",
    y = "N√∫mero de Nacimientos",
    fill = "Estado Civil"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

**Analisis**

üìä **An√°lisis del gr√°fico: N√∫mero de Nacimientos por Estado Civil de la Madre**

üîç **Observaciones:**

1. **Solteras predominan**:  

   La mayor parte de los nacimientos registrados provienen de madres **solteras**, superando los 2.4 millones de casos. Esto indica una tendencia significativa de maternidad fuera del matrimonio legal o uni√≥n formal.

2. **Casadas en segundo lugar**: 

   Las madres **casadas** representan el segundo grupo m√°s com√∫n, con m√°s de 2 millones de nacimientos. Aunque es una cifra alta, es considerablemente menor que la de madres solteras.

3. **Unidas y no especificado**:  

   Las madres que reportaron estar **unidas** (convivencia sin matrimonio) o con estado civil **no especificado** constituyen una proporci√≥n muy baja del total. Esto puede deberse a falta de registro adecuado, omisi√≥n de datos o menor prevalencia real.

üß† **Conclusiones:**

- **Patr√≥n cultural y social**:

  El alto n√∫mero de nacimientos entre madres solteras puede reflejar un patr√≥n cultural en el que el matrimonio no es un requisito previo para la maternidad, especialmente en ciertos sectores o grupos de edad.

- **Implicaciones para pol√≠ticas p√∫blicas**:  

  Estos resultados sugieren que los programas de apoyo a la maternidad, educaci√≥n sexual, planificaci√≥n familiar y protecci√≥n social deben estar especialmente dirigidos a madres solteras, ya que constituyen el grupo m√°s amplio.

```{r}
# Filtrar datos para encontrar la madre m√°s joven con estado civil "2"
madre_menor_edad_estado_2 <- datos_limpios %>%
  filter(Escivm == 2) %>%  # Filtrar por estado civil "2"
  filter(Edadp == min(Edadp, na.rm = TRUE))  # Filtrar por la menor edad

# Imprimir la edad de la madre con menor edad y estado civil "2"
cat("üìå La madre con menor edad y estado civil 2 tiene:", madre_menor_edad_estado_2$Edadp, "a√±os.\n")

```
Vemos que la madre con menor edad y que esta casada tan solo tiene 13 a√±os. Esto es una cifra alarmante y nos sirve para dar una contextualizacion de porque suelen ocurrir estos embarazos, ya sea por un abuso, o por irresponsabilidad de los padres o otros temas que no hemos estado contando aqui mismo. 

Hasta este momento hemos definido que una gran cantidad de madres son adolescentes y si bien se ha visto un decremento en estos embarazos, en los ultimos a√±os ha habido un aumento y que en una gran parte de estos suelen suceder en departamentos historicamente aislados , y que una gran parte de las madres son casadas. 

Pero tambien queremos ver el acceso a hospitales tanto para  madres adolescentes como no. Ello nos explicaria el contexto economico de la misma y asi darnos una idea de los nacimientos en Guatemala. 


**Acceso a hospitales por madres adolescentes**

```{r}

library(ggplot2)
library(dplyr)

# Filtrar datos para embarazos adolescentes y no adolescentes
datos_adolescente_vs_no <- datos_limpios %>%
  mutate(Embarazo_Adolescente = ifelse(Edadp < 20, "Adolescente", "No Adolescente")) %>%
  mutate(Asistencia_Medica = case_when(
    Asisrec == 1 ~ "S√≠",
    Asisrec %in% c(2, 4, 5) ~ "No",
    TRUE ~ NA_character_  # Ignorar valores desconocidos o no aplicables
  )) %>%
  filter(!is.na(Asistencia_Medica))  # Filtrar valores desconocidos

# üìä Gr√°fico de barras para asistencia m√©dica seg√∫n edad de la madre
ggplot(datos_adolescente_vs_no, aes(x = Embarazo_Adolescente, fill = Asistencia_Medica)) +
  geom_bar(position = "dodge", alpha = 0.8) +
  labs(title = "Asistencia M√©dica en el Nacimiento por Edad de la Madre",
       x = "Tipo de Embarazo",
       y = "N√∫mero de Nacimientos",
       fill = "Asistencia M√©dica") +
  scale_fill_manual(values = c("green", "red"), labels = c("S√≠", "No")) +  
  theme_minimal()


```

**Analisis**

Podemos ver que la mayoria de veces tanto en mujers no adolescentes como no , la mayoria no recibe atencion medica durante el parto, pero se puede observar que la diferencia entre mujeres no adolescentes es mas evidente, muy posiblemente debido a que un embarazo de este estilo es mas peligroso que uno normal y por ende se suelen practicar este tipo de cosas para evitar problemas. 

Esto es un indicativo de lo riesgoso que puede ser un parte tal asi , por ende nos podemos hacer la siguiente pregunta de analisis para completar nuestro analisis exploratorio. 

**¬øLas madres jovenes que tanta diferencia tenian con los padres de los ni√±os?**

Para esto hacemos una analisis de edad 

```{r}
library(ggplot2)

# üìä Gr√°fico de densidad de la diferencia de edad entre padres y madres
ggplot(datos_cambiados, aes(x = Diferencia_Edad)) +
  geom_density(fill = "blue", alpha = 0.5) +
  labs(title = "Distribuci√≥n de la Diferencia de Edad entre Padres y Madres",
       x = "Diferencia de Edad (Padre - Madre)",
       y = "Densidad") +
  theme_minimal()



```

**Analisis de los Datos**

Podemos ver que la diferencia de edad entre los padres es bastante alto la mayoria de 5 a 10 a√±os. Aunque se ve que una gran parte tambien son de mayor a 10 a√±os. Esto puede ser una demostracion de un ambiente abusivo e incluso en muchos casos hasta ilegal, recordemos que la mayoria son mujeres entre 14 y 17 y una diferencia de 5 o 10 a√±os ya te hace un adulto. 

Como ultimo punto queremos ver cuales son los grupos etnicos mas afectados por recibir poca atencion, y especificamente en la poblacion de madres adolescentes. Cual de todos los grupos etnicos tiene mayor cantidad de madres adolescentes .  

```{r}
# Filtrar solo madres menores de edad
madres_adolescentes <- datos_cambiados %>%
  filter(Edadm < 18) %>%
  count(Gretnm)  # Contar cantidad de casos por grupo √©tnico

# üìä Gr√°fico de barras
ggplot(madres_adolescentes, aes(x = reorder(Gretnm, -n), y = n, fill = Gretnm)) +
  geom_bar(stat = "identity", alpha = 0.7) +
  labs(title = "Cantidad de Madres Adolescentes por Grupo √âtnico",
       x = "Grupo √âtnico de la Madre",
       y = "Cantidad de Madres Adolescentes") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  scale_fill_brewer(palette = "Set3", guide = "none") +
  ylim(0, 20000)  # Ajusta este valor seg√∫n la escala que necesites


```

**Analisis**

Podemos ver que el grupo etnico con mas madres adolescentes es el maya siendo el 1, siguiendole el Garifuna  y el mestizo no presentandose en la grafica de forma aparente, lo que demuestra que uno de los grupos mas vulnerables para ser madres adolescentes es el maya 

**Conclusiones**
Esto va muy en la linea si nos ponemos a pensar en lo que hemos analizado, pues vimos que el departamento de Alta Verapaz tiene una gran cantidad de madres adolescentes, y siendo el maya el grupo etnico mas comun puede ser debido a la zona en donde se encuentra mas . Tambien se observo que si bien la diferencia de edad no es tan grande en madres adolescentes si es muy significativa y en algunos casos hasta ilegal. 

Obervamos que muchos de las madres adolescentes no reciben atencion medica al momento de dar a luz, pero es mucho mayor el porcentaje que las que no debiedo a las complicaciones de este embarazo, tambien se observo que existe cierta correelacion entre el peso de los bebes nacidos y de la edad de sus madres mostrando que muy posiblemente madres muy jovenes provoquen el nacimiento de bebes prematuros.


### e.	Hagan un agrupamiento ‚Äúclustering‚Äù e interpreten los resultados. 

```{r}

```


## 2. Una vez hayan explorado los datos...

### a.	Describan la situaci√≥n problem√°tica que los lleva a plantear un problema a resolver.

LEl an√°lisis revela una alta incidencia de maternidad adolescente en el grupo √©tnico maya, seguido por el gar√≠funa, mientras que en el mestizo no se observa una presencia significativa. Esta situaci√≥n sugiere una relaci√≥n entre el embarazo adolescente y la ubicaci√≥n geogr√°fica, ya que en regiones como Alta Verapaz, donde predomina la poblaci√≥n maya, se registran altos √≠ndices de madres adolescentes.

Adem√°s, se ha identificado una diferencia de edad notable entre las madres adolescentes y sus parejas, en algunos casos alcanzando niveles preocupantes desde un punto de vista legal y social. Esta disparidad de edad puede implicar relaciones desiguales de poder, que afectan la autonom√≠a y el bienestar de las adolescentes.

Otro factor cr√≠tico es la falta de acceso a atenci√≥n m√©dica en el momento del parto, lo que aumenta los riesgos tanto para la madre como para el beb√©. Se ha observado que las complicaciones durante el embarazo en adolescentes pueden estar relacionadas con nacimientos prematuros y bajo peso en los reci√©n nacidos.

Estos hallazgos evidencian la vulnerabilidad de ciertos grupos √©tnicos y regiones en cuanto a la maternidad adolescente y la falta de atenci√≥n m√©dica, lo que subraya la necesidad de intervenciones espec√≠ficas para mejorar la salud maternoinfantil y prevenir embarazos en menores de edad.

### b.	Enuncien un problema cient√≠fico y unos objetivos preliminares.

¬øC√≥mo influye la diferencia de edad entre los padres, el grupo √©tnico y el acceso a atenci√≥n m√©dica en la prevalencia del embarazo adolescente y en las condiciones de salud maternoinfantil en Guatemala?

Objetivos Preliminares
1.Analizar la relaci√≥n entre la diferencia de edad en las parejas y la incidencia de embarazo adolescente, evaluando posibles patrones de desigualdad y riesgos asociados.

2.Identificar los grupos √©tnicos con mayor prevalencia de maternidad adolescente, explorando factores socioecon√≥micos y culturales que contribuyen a esta problem√°tica.

3.Evaluar el acceso a atenci√≥n m√©dica durante el parto en madres adolescentes, determinando qu√© factores influyen en la falta de atenci√≥n m√©dica y sus consecuencias.

4.Establecer la correlaci√≥n entre la edad materna y el peso al nacer de los beb√©s, para entender los posibles efectos del embarazo adolescente en la salud neonatal.

5.Proponer estrategias para reducir la incidencia del embarazo adolescente en los grupos m√°s vulnerables, considerando intervenciones en educaci√≥n, salud y apoyo comunitario.

### c.	Describan los datos que tienen para responder el problema planteado. Esto incluye el estado en que se encontr√≥ el o los conjuntos de datos y las operaciones de limpieza que realizaron, en caso de que hayan sido necesarias.

## Descripci√≥n de los Datos y Proceso de Limpieza
Para responder el problema planteado sobre la maternidad adolescente en Guatemala y su relaci√≥n con factores como el grupo √©tnico, la diferencia de edad entre los padres y el acceso a atenci√≥n m√©dica, se trabaj√≥ con un conjunto de datos de nacimientos registrados entre 2009 y 2022.

Al analizar el estado inicial de los datos, se identificaron varias inconsistencias, valores faltantes (NA) y variables redundantes que requer√≠an limpieza y transformaci√≥n antes de su uso en el an√°lisis. A continuaci√≥n, se describe el estado inicial del conjunto de datos y las operaciones de limpieza realizadas:

# Estado Inicial del Conjunto de Datos
Presencia de valores faltantes (NA): Se encontraron muchas variables con valores ausentes, especialmente en informaci√≥n sobre el padre (grupo √©tnico, ocupaci√≥n, municipio de nacimiento), la madre (grupo √©tnico, escolaridad), la ciudad de residencia, entre otras.

- Datos redundantes: Se encontraron variables duplicadas o equivalentes, como dos formas de registrar el municipio de nacimiento del padre y de la madre, as√≠ como dos maneras de codificar el grupo √©tnico de la madre.

- Valores extremos: Se detectaron valores fuera de rango en variables como la edad de la madre, edad del padre, peso del beb√© al nacer, entre otros.

# Operaciones de Limpieza Realizadas
Conversi√≥n de Variables: Se aseguraron los tipos de datos correctos para cada variable, convirtiendo a formato num√©rico aquellas que deb√≠an ser tratadas como n√∫meros (Edadp, Edadm, Libras, Onzas, Tohite, Tohinm, Tohivi) y categ√≥ricas aquellas que representan informaci√≥n cualitativa.

# Filtrado de Rango:

Se filtraron los valores dentro de rangos l√≥gicos para evitar errores o datos at√≠picos irreales.

Se aseguraron valores adecuados para edades (madres de 10 a 100 a√±os, padres de 10 a 90 a√±os), peso de beb√©s (entre 1 y 10 libras con onzas entre 0 y 15), entre otros.

# Eliminaci√≥n de Variables No Necesarias:
Se eliminaron variables que no aportaban informaci√≥n relevante al an√°lisis, como:

Areag: √Årea donde se registr√≥ el nacimiento.

Archivo: Informaci√≥n administrativa sin relevancia anal√≠tica.

Grupetma: Codificaci√≥n redundante del grupo √©tnico de la madre.

Munpnam: Variable alternativa a otra con la misma informaci√≥n.

# Tratamiento de Valores Faltantes:
Se aplicaron diferentes estrategias dependiendo de la variable:

# Sustituci√≥n con otra variable equivalente: 
Se reemplazaron valores ausentes en A√±oocu con A√±oreg, ya que el a√±o de ocurrencia del nacimiento es igual al a√±o de registro.

# Uso del valor m√°s com√∫n: 
Para Naciop y Naciom (nacionalidad del padre y la madre), se utiliz√≥ el valor m√°s frecuente (Guatemala).

# Sustituci√≥n con "No especificado": 
En variables como Gretnp (grupo √©tnico del padre), Ocupap, Ocupam, Mupnap (municipio de nacimiento del padre), Paisnacp, Paisrep, Paisnacm, Paisrem, Ciuopad, Ciuomad, entre otras.

# Asignaci√≥n de una categor√≠a general: 
Para ViaPar (tipo de parto), se asign√≥ el valor "Otro" cuando no hab√≠a informaci√≥n, y en TipoIns (tipo de instituci√≥n donde ocurri√≥ el parto), se puso "No hubo" en casos donde no se report√≥ atenci√≥n m√©dica institucional.

# Reemplazo con otra variable relacionada: 
Se reemplazaron los valores faltantes en PuebloPP (grupo √©tnico del padre) con Gretnp y los de PuebloPM (grupo √©tnico de la madre) con Gretnm.

#Creaci√≥n de Nueva Variable:

Se calcul√≥ el peso del beb√© en onzas (Peso_Onzas) a partir de las variables Libras y Onzas para facilitar el an√°lisis.

# Verificaci√≥n Final:
Se realiz√≥ un resumen de los datos tras la limpieza para confirmar que no quedaban valores faltantes en variables clave y que los datos estaban estructurados correctamente para el an√°lisis.

# Estado Final del Conjunto de Datos
Tras la limpieza, el dataset qued√≥ estructurado de manera m√°s clara, con menos valores ausentes y sin datos innecesarios o err√≥neos. Ahora, el conjunto de datos permite realizar un an√°lisis m√°s preciso sobre:

La relaci√≥n entre el grupo √©tnico y la incidencia del embarazo adolescente.

La diferencia de edad entre los padres y su posible relaci√≥n con din√°micas de poder desiguales.

La falta de acceso a atenci√≥n m√©dica en partos de adolescentes.

La relaci√≥n entre la edad materna y el peso del beb√© al nacer.

Este proceso de limpieza y estructuraci√≥n de los datos permite un an√°lisis m√°s confiable, reduciendo el riesgo de sesgos y mejorando la calidad de los resultados que se obtendr√°n en el estudio

### d.	Escriban unas conclusiones con los hallazgos encontrados durante el an√°lisis exploratorio. 

## **Conclusiones del An√°lisis Exploratorio**

Tras realizar un an√°lisis exploratorio detallado del conjunto de datos de nacimientos en Guatemala entre 2009 y 2022, se identificaron varios patrones y tendencias relevantes en relaci√≥n con la maternidad adolescente. A continuaci√≥n, se resumen los principales hallazgos:

### **Calidad y Limpieza de los Datos**
- Se encontraron varias inconsistencias en los datos, incluyendo valores at√≠picos, valores fuera de rango y un alto n√∫mero de valores faltantes en algunas variables clave, especialmente en informaci√≥n relacionada con el padre.
- Se realiz√≥ un proceso de imputaci√≥n de datos faltantes, utilizando diferentes estrategias, como el reemplazo con valores m√°s comunes, la imputaci√≥n basada en variables equivalentes y la asignaci√≥n de la categor√≠a *"No especificado"* para evitar la eliminaci√≥n de registros valiosos.
- La limpieza de datos permiti√≥ mejorar la estructura del dataset, eliminando redundancias y facilitando su posterior an√°lisis.

### **Caracter√≠sticas de la Maternidad Adolescente**
- Se confirm√≥ la presencia de casos de maternidad en edades tempranas, con madres adolescentes desde los 10 a√±os.
- Se observ√≥ una mayor frecuencia de nacimientos en madres j√≥venes en ciertos grupos √©tnicos, lo que podr√≠a sugerir diferencias culturales o socioecon√≥micas en el acceso a educaci√≥n y planificaci√≥n familiar.
- La escolaridad de las madres y padres mostr√≥ una tendencia baja en varios casos, lo que podr√≠a estar relacionado con la edad temprana en que ocurre el embarazo.

### **Informaci√≥n del Padre**
- Se identific√≥ un alto porcentaje de registros con informaci√≥n ausente sobre el padre, especialmente en variables como ocupaci√≥n, municipio de nacimiento y grupo √©tnico.
- En los casos donde se cuenta con datos, se observ√≥ una brecha de edad significativa entre la madre y el padre en algunos registros, lo que podr√≠a indicar patrones de uni√≥n con hombres de mayor edad.

### **Atenci√≥n M√©dica y Condiciones del Parto**
- Un porcentaje significativo de partos no se realiz√≥ en instituciones de salud, lo que podr√≠a reflejar barreras en el acceso a servicios m√©dicos.
- Se detect√≥ variabilidad en el peso al nacer de los beb√©s, con algunos casos de bajo peso que podr√≠an estar asociados con condiciones de salud materna o falta de atenci√≥n m√©dica prenatal adecuada.

### **Consideraciones Finales**
El an√°lisis exploratorio de estos datos brinda una visi√≥n preliminar sobre la maternidad adolescente en Guatemala, destacando factores como la falta de informaci√≥n del padre, las disparidades en acceso a atenci√≥n m√©dica y la relaci√≥n entre grupo √©tnico y edad materna. Estos hallazgos pueden servir como base para estudios m√°s profundos y el dise√±o de pol√≠ticas p√∫blicas enfocadas en la educaci√≥n, la prevenci√≥n del embarazo adolescente y la mejora del acceso a servicios de salud materno-infantil.


